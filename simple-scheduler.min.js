!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.scheduler=e()}}(function(){return function e(t,i,n){function r(s,u){if(!i[s]){if(!t[s]){var h="function"==typeof require&&require;if(!u&&h)return h(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return r(i?i:e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t){"use strict";var i=e("audio-context"),n=function(){function e(){this.__objects=[],this.__times=[],this.__currentTime=null,this.__timeout=null,this.period=.025,this.lookahead=.1}function t(){return this.__currentTime||i.currentTime+this.lookahead}var n=Object.defineProperty,r=function(e,t){for(var i in t)t.hasOwnProperty(i)&&n(e,i,Object.getOwnPropertyDescriptor(t,i));return e},o={};return Object.defineProperties(e.prototype,{time:{get:t,configurable:!0,enumerable:!0}}),n(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),o.__insertEngine=function(e,t){this.__objects.push(e),this.__times.push(t)},o.__moveEngine=function(e,t){var i=this.__objects.indexOf(e);i>=0&&(1/0!==t?this.__times[i]=t:(this.__objects.splice(i,1),this.__times.splice(i,1)))},o.__withdrawEngine=function(e){var t=this.__objects.indexOf(e);t>=0&&(this.__objects.splice(t,1),this.__times.splice(t,1))},o.__reschedule=function(){this.__objects.length>0?this.__timeout||this.__tick():this.__timeout&&(clearTimeout(this.__timeout),this.__timeout=null)},o.__tick=function(){for(var e=this,t=0;t<this.__objects.length;){for(var n=this.__objects[t],r=this.__times[t];r<=i.currentTime+this.lookahead;){var o=Math.max(r,i.currentTime);this.__currentTime=r,r+=Math.max(n.executeNext(r,o),0)}1/0!==r?this.__times[t++]=r:this.__withdrawEngine(n)}this.__currentTime=null,this.__objects.length>0&&(this.__timeout=setTimeout(function(){e.__tick()},1e3*this.period))},o.callback=function(e){var t=arguments[1];void 0===t&&(t=0);var i={executeNext:function(t,i){return e(t,i),1/0}};return this.__insertEngine(i,this.time+t),this.__reschedule(),i},o.repeat=function(e){var t=arguments[1];void 0===t&&(t=1);var i=arguments[2];void 0===i&&(i=0);var n={period:t,executeNext:function(t,i){return e(t,i),this.period}};return this.__insertEngine(n,this.time+i),this.__reschedule(),n},o.add=function(e){var t=arguments[1];if(void 0===t&&(t=0),null!==e.scheduler)throw new Error("object has already been added to a scheduler");if(!e.syncNext)throw new Error("object does not have a syncNext method");if(!e.executeNext)throw new Error("object does not have a executeNext method");e.scheduler=this,this.__insertEngine(e,this.time+t),this.__reschedule()},o.remove=function(e){if(e.scheduler!==this)throw new Error("object has not been added to this scheduler");e.scheduler=null,this.__withdrawEngine(e),this.__reschedule()},o.resync=function(e){if(e.scheduler!==this)throw new Error("object has not been added to this scheduler");if(!e.syncNext)throw new Error("object does not have a syncNext method");var t=this.time,i=t+Math.max(e.syncNext(t),0);this.__moveEngine(e,i),this.__reschedule()},o.reschedule=function(e,t){if(e.scheduler!==this)throw new Error("object has not been added to this scheduler");this.__moveEngine(e,t),this.__reschedule()},r(e.prototype,o),o=void 0,e}();t.exports=new n},{"audio-context":2}],2:[function(e,t){var i=window.audioContext||new AudioContext||new webkitAudioContext;window.audioContext=i,t.exports=i},{}]},{},[1])(1)});