!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.scheduler=e()}}(function(){return function e(t,n,i){function s(o,_){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!_&&u)return u(o,!0);if(r)return r(o,!0);throw new Error("Cannot find module '"+o+"'")}var h=n[o]={exports:{}};t[o][0].call(h.exports,function(e){var n=t[o][1][e];return s(n?n:e)},h,h.exports,e,t,n,i)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(e,t){"use strict";var n=e("audio-context"),i=(e("event-queue"),function(){function e(){return this.__objects=[],this.__times=[],this.__eventTime=null,this.__timeout=null,this.period=.025,this.advance=.1,this}function t(){return this.__eventTime||n.currentTime+this.advance}var i=Object.defineProperty;return Object.defineProperties(e.prototype,{time:{get:t,configurable:!0,enumerable:!0}}),i(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),e.prototype.__insertEvent=function(e,t){this.__objects.push(e),this.__times.push(t)},e.prototype.__moveEvent=function(e,t){var n=this.__objects.indexOf(e);n>=0&&(1/0!==t?this.__times[n]=t:(this.__objects.splice(n,1),this.__times.splice(n,1)))},e.prototype.__removeEvent=function(e){var t=this.__objects.indexOf(e);t>=0&&(this.__objects.splice(t,1),this.__times.splice(t,1))},e.prototype.__reschedule=function(){this.__objects.length>0?this.__timeout||this.__tick():this.__timeout&&(clearTimeout(this.__timeout),this.__timeout=null)},e.prototype.__tick=function(){var e=this;this.__looping=!0;for(var t=0;t<this.__objects.length;t++)for(var i=this.__objects[t],s=this.__times[t];s<=n.currentTime+this.advance;){this.__eventTime=s;var r=Math.max(s,n.currentTime),o=Math.max(i.executeEvent(s,r),0);1/0!==o?(this.reverse?s-=o:s+=o,this.__times[t]=s):(this.__removeEvent(i),t--)}this.__eventTime=null,this.__objects.length>0&&(this.__timeout=setTimeout(function(){e.__tick()},1e3*this.period))},e.prototype.callback=function(e){var t=arguments[1];void 0===t&&(t=0);var n={executeEvent:function(t,n){return e(t,n),1/0}};return this.__insertEvent(n,this.time+t),this.__reschedule(),n},e.prototype.add=function(e){var t=arguments[1];void 0===t&&(t=0),e.syncEvent&&e.executeEvent&&null===e.scheduler&&(this.__nextTime=this.__insertEvent(e,this.time+t),e.scheduler=this,this.__reschedule())},e.prototype.remove=function(e){e.scheduler===this&&(this.__removeEvent(e),e.scheduler=null,this.__reschedule())},e.prototype.resync=function(e){if(e.scheduler===this){var t=this.time,n=t+Math.max(e.syncEvent(t),0);this.__moveEvent(e,n),this.__reschedule()}},e.prototype.reschedule=function(e,t){e.scheduler===this&&(this.__moveEvent(e,t),this.__reschedule())},e}());t.exports=new i},{"audio-context":2,"event-queue":3}],2:[function(e,t){var n=window.audioContext||new AudioContext;window.audioContext=n,t.exports=n},{}],3:[function(e,t){"use strict";var n=function(){function e(){this.__events=[],this.reverse=!1}var t=Object.defineProperty;return t(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),e.prototype.__eventIndex=function(e){for(var t=0;t<this.__events.length;t++)if(e===this.__events[t][0])return t;return-1},e.prototype.__removeEvent=function(e){var t=this.__eventIndex(e);return t>=0&&this.__events.splice(t,1),this.__events.length>0?this.__events[0][1]:1/0},e.prototype.__syncEvent=function(e,t){var n=Math.max(e.syncEvent(t),0),i=1/0;return 1/0!==n&&(i=this.reverse?t-n:t+n),i},e.prototype.__sortEvents=function(){this.reverse?this.__events.sort(function(e,t){return t[1]-e[1]}):this.__events.sort(function(e,t){return e[1]-t[1]})},e.prototype.insert=function(e,t){var n=arguments[2];void 0===n&&(n=!0);var i=t;return n&&(i=this.__syncEvent(e,t)),1/0!==i?(this.__events.push([e,i]),this.__sortEvents(),this.__events[0][1]):this.__removeEvent(e)},e.prototype.insertAll=function(e,t){var n=arguments[2];void 0===n&&(n=!0);for(var i=t,s=0;s<e.length;s++){var r=e[s];n&&(i=this.__syncEvent(r,t)),1/0!==i&&this.__events.push([r,i])}return this.__sortEvents(),this.__events.length>0?this.__events[0][1]:1/0},e.prototype.move=function(e,t){var n=arguments[2];void 0===n&&(n=!0);var i=t;if(n&&(i=this.__syncEvent(e,t)),1/0!==i){var s=this.__eventIndex(e);if(0>s)this.__events.push([e,i]),this.__sortEvents();else if(this.__events[s][1]=i,0===s&&this.__events.length>1){var r=this.__events[1][1];(!this.reverse&&i>r||this.reverse&&r>=i)&&this.__sortEvents()}return this.__events[0][1]}return this.__removeEvent(e)},e.prototype.remove=function(e){return this.__removeEvent(e)},e.prototype.clear=function(){return this.__events.length=0,1/0},e.prototype.advance=function(e,t){var n=this.__events[0][0],i=Math.max(n.executeEvent(e,t),0);if(1/0!==i){var s;if(s=this.reverse?e-i:e+i,this.__events[0][1]=s,this.__events.length>1){var r=this.__events[1][1];(!this.reverse&&s>r||this.reverse&&r>=s)&&this.__sortEvents()}return this.__events[0][1]}return this.__removeEvent(n)},e}();t.exports=n},{}]},{},[1])(1)});