!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.scheduler=e()}}(function(){return function e(t,n,i){function r(o,u){if(!n[o]){if(!t[o]){var _="function"==typeof require&&require;if(!u&&_)return _(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var h=n[o]={exports:{}};t[o][0].call(h.exports,function(e){var n=t[o][1][e];return r(n?n:e)},h,h.exports,e,t,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t){"use strict";var n=e("audio-context"),i=e("time-engine-queue"),r=function(){function e(){this.__engineQueue=new i,this.__currentTime=null,this.__nextTime=1/0,this.__timeout=null,this.period=.025,this.lookahead=.1}function t(){return this.__currentTime||n.currentTime+this.lookahead}var r=Object.defineProperty,s=function(e,t){for(var n in t)t.hasOwnProperty(n)&&r(e,n,Object.getOwnPropertyDescriptor(t,n));return e},o={};return Object.defineProperties(e.prototype,{time:{get:t,configurable:!0,enumerable:!0}}),r(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),o.__tick=function(){for(var e=this;this.__nextTime<=n.currentTime+this.lookahead;)this.__currentTime=this.__nextTime,this.__nextTime=this.__engineQueue.execute(this.__nextTime,this.__nextTime);this.__currentTime=null,1/0!==this.__nextTime&&(this.__timeout=setTimeout(function(){e.__tick()},1e3*this.period))},o.__reschedule=function(){1/0!==this.__nextTime?this.__timeout||this.__tick():this.__timeout&&(clearTimeout(this.__timeout),this.__timeout=null)},o.callback=function(e){var t=arguments[1];void 0===t&&(t=0);var n={executeNext:function(t,n){return e(t,n),1/0}};return this.__nextTime=this.__engineQueue.insert(n,this.time+t,!1),this.__reschedule(),n},o.repeat=function(e){var t=arguments[1];void 0===t&&(t=1);var n=arguments[2];void 0===n&&(n=0);var i={period:t,executeNext:function(t,n){return e(t,n),this.period}};return this.__nextTime=this.__engineQueue.insert(i,this.time+n,!1),this.__reschedule(),i},o.add=function(e){var t=arguments[1];if(void 0===t&&(t=0),null!==e.scheduler)throw new Error("object has already been added to a scheduler");if(!e.syncNext)throw new Error("object does not have a syncNext method");if(!e.executeNext)throw new Error("object does not have a executeNext method");e.scheduler=this,this.__nextTime=this.__engineQueue.insert(e,this.time+t),this.__reschedule()},o.remove=function(e){if(e.scheduler!==this)throw new Error("object has not been added to this scheduler");e.scheduler=null,this.__nextTime=this.__engineQueue.remove(e),this.__reschedule()},o.resync=function(e){if(e.scheduler!==this)throw new Error("object has not been added to this scheduler");if(!e.syncNext)throw new Error("object does not have a syncNext method");this.__nextTime=this.__engineQueue.move(e,this.time),this.__reschedule()},o.reschedule=function(e,t){if(e.scheduler!==this)throw new Error("object has not been added to this scheduler");this.__nextTime=this.__engineQueue.move(e,t,!1),this.__reschedule()},s(e.prototype,o),o=void 0,e}();t.exports=new r},{"audio-context":2,"time-engine-queue":3}],2:[function(e,t){var n=window.audioContext||new AudioContext||new webkitAudioContext;window.audioContext=n,t.exports=n},{}],3:[function(e,t){"use strict";var n=function(){function e(){this.__events=[],this.reverse=!1}var t=Object.defineProperty,n=function(e,n){for(var i in n)n.hasOwnProperty(i)&&t(e,i,Object.getOwnPropertyDescriptor(n,i));return e},i={};return t(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),i.__eventIndex=function(e){for(var t=0;t<this.__events.length;t++)if(e===this.__events[t][0])return t;return-1},i.__removeEvent=function(e){var t=this.__eventIndex(e);return t>=0&&this.__events.splice(t,1),this.__events.length>0?this.__events[0][1]:1/0},i.__syncEvent=function(e,t){var n=Math.max(e.syncNext(t),0),i=1/0;return 1/0!==n&&(i=this.reverse?t-n:t+n),i},i.__sortEvents=function(){this.reverse?this.__events.sort(function(e,t){return t[1]-e[1]}):this.__events.sort(function(e,t){return e[1]-t[1]})},i.insert=function(e,t){var n=arguments[2];void 0===n&&(n=!0);var i=t;return n&&(i=this.__syncEvent(e,t)),1/0!==i?(this.__events.push([e,i]),this.__sortEvents(),this.__events[0][1]):this.__removeEvent(e)},i.insertAll=function(e,t){var n=arguments[2];void 0===n&&(n=!0);for(var i=t,r=0;r<e.length;r++){var s=e[r];n&&(i=this.__syncEvent(s,t)),1/0!==i&&this.__events.push([s,i])}return this.__sortEvents(),this.__events.length>0?this.__events[0][1]:1/0},i.move=function(e,t){var n=arguments[2];void 0===n&&(n=!0);var i=t;if(n&&(i=this.__syncEvent(e,t)),1/0!==i){var r=this.__eventIndex(e);if(0>r)this.__events.push([e,i]),this.__sortEvents();else if(this.__events[r][1]=i,0===r&&this.__events.length>1){var s=this.__events[1][1];(!this.reverse&&i>s||this.reverse&&s>=i)&&this.__sortEvents()}return this.__events[0][1]}return this.__removeEvent(e)},i.remove=function(e){return this.__removeEvent(e)},i.clear=function(){return this.__events.length=0,1/0},i.execute=function(e,t){var n=this.__events[0][0],i=Math.max(n.executeNext(e,t),0);if(1/0!==i){var r;if(r=this.reverse?e-i:e+i,this.__events[0][1]=r,this.__events.length>1){var s=this.__events[1][1];(!this.reverse&&r>s||this.reverse&&s>=r)&&this.__sortEvents()}return this.__events[0][1]}return this.__removeEvent(n)},n(e.prototype,i),i=void 0,e}();t.exports=n},{}]},{},[1])(1)});