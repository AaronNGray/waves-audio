!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.PlayerEngine=e()}}(function(){return function e(t,n,i){function r(u,s){if(!n[u]){if(!t[u]){var c="function"==typeof require&&require;if(!s&&c)return c(u,!0);if(o)return o(u,!0);throw new Error("Cannot find module '"+u+"'")}var a=n[u]={exports:{}};t[u][0].call(a.exports,function(e){var n=t[u][1][e];return r(n?n:e)},a,a.exports,e,t,n,i)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<i.length;u++)r(i[u]);return r}({1:[function(e,t){"use strict";var n=e("audio-context"),i=e("time-engine"),r=function(e){function t(){var e=arguments[0];void 0===e&&(e=null),this.transport=null,this.buffer=e,this.fadeTime=.005,this.__time=0,this.__position=0,this.__speed=0,this.__cyclic=!1,this.__bufferSource=null,this.__envNode=null,this.__playingSpeed=1,this.outputNode=this.__gainNode=n.createGain()}function i(e){if(e!==this.__cyclic){var t=this.currentTime,n=this.currentosition;this.__halt(t),this.__cyclic=e,0!==this.__speed&&this.__start(t,n,this.__speed)}}function r(){return this.__cyclic}function o(){var e=this.__sync();this.__gainNode.cancelScheduledValues(e),this.__gainNode.setValueAtTime(this.__gainNode.gain.value,e),this.__gainNode.linearRampToValueAtTime(0,e+this.fadeTime)}function u(){return this.__gainNode.gain.value}var s=function(e,t){return e.__proto__={a:t},e.a===t}({},{}),c=Object.defineProperty,a=Object.getOwnPropertyDescriptor,f=function(e,t){for(var n in t)t.hasOwnProperty(n)&&c(e,n,a(t,n));return e},_=Object.setPrototypeOf||function(e,t){return s?e.__proto__=t:c(e,"__proto__",{value:t,configurable:!0,enumerable:!1,writable:!0}),e},l=Object.create;s||f(t,e);var d={};return null!==e&&_(t,e),t.prototype=l(null!==e?e.prototype:null,{constructor:{value:t,configurable:!0,writable:!0},cyclic:{get:r,set:i,configurable:!0,enumerable:!0},gain:{get:u,set:o,configurable:!0,enumerable:!0}}),c(t,"prototype",{configurable:!1,enumerable:!1,writable:!1}),d.__start=function(e,t,i){if(this.buffer){var r=this.buffer.duration;if(this.buffer.wrapAroundExtension&&(r-=this.buffer.wrapAroundExtension),this.__cyclic&&(0>t||t>=r)){var o=t/r;t=(o-Math.floor(o))*r}t>=0&&r>t&&i>0&&(this.__envNode=n.createGain(),this.__envNode.gain.setValueAtTime(0,e),this.__envNode.gain.linearRampToValueAtTime(1,e+this.fadeTime),this.__envNode.connect(this.__gainNode),this.__bufferSource=n.createBufferSource(),this.__bufferSource.buffer=this.buffer,this.__bufferSource.playbackRate.value=i,this.__bufferSource.loop=this.__cyclic,this.__bufferSource.loopStart=0,this.__bufferSource.loopEnd=r,this.__bufferSource.start(e,t),this.__bufferSource.connect(this.__envNode))}},d.__halt=function(e){this.__bufferSource&&(this.__envNode.gain.cancelScheduledValues(e),this.__envNode.gain.setValueAtTime(this.__envNode.gain.value,e),this.__envNode.gain.linearRampToValueAtTime(0,e+this.fadeTime),this.__bufferSource.stop(e+this.fadeTime),this.__bufferSource=null,this.__envNode=null)},d.syncSpeed=function(e,t,n){var i=arguments[3];void 0===i&&(i=!1);var r=this.__speed;(n!==r||i)&&(i||0>r*n?(this.__halt(e),this.__start(e,t,n)):0===r||i?this.__start(e,t,n):0===n?this.__halt(e):this.__bufferSource&&this.__bufferSource.playbackRate.setValueAtTime(n,e),this.__speed=n)},f(t.prototype,d),d=void 0,t}(i);t.exports=r},{"audio-context":2,"time-engine":3}],2:[function(e,t){var n=window.audioContext||new AudioContext||new webkitAudioContext;window.audioContext=n,t.exports=n},{}],3:[function(e,t){"use strict";var n=e("audio-context"),i=function(){function e(){this.interface=null,this.outputNode=null}function t(){return n.currentTime}function i(){return 0}var r=(function(e,t){return e.__proto__={a:t},e.a===t}({},{}),Object.defineProperty),o=Object.getOwnPropertyDescriptor,u=function(e,t){for(var n in t)t.hasOwnProperty(n)&&r(e,n,o(t,n));return e},s=Object.defineProperties,c={};return s(e.prototype,{currentTime:{get:t,configurable:!0,enumerable:!0},currentPosition:{get:i,configurable:!0,enumerable:!0}}),r(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),c.resetNextTime=function(){var e=arguments[0];void 0===e&&(e=null)},c.resetNextPosition=function(){var e=arguments[0];void 0===e&&(e=null)},c.__setGetters=function(e,t){e&&Object.defineProperty(this,"currentTime",{configurable:!0,get:e,set:function(){}}),t&&Object.defineProperty(this,"currentPosition",{configurable:!0,get:t,set:function(){}})},c.__deleteGetters=function(){delete this.currentTime,delete this.currentPosition},c.connect=function(e){return this.outputNode.connect(e),this},c.disconnect=function(e){return this.outputNode.disconnect(e),this},u(e.prototype,c),c=void 0,e}();i.implementsScheduled=function(e){return e.advanceTime&&e.advanceTime instanceof Function},i.implementsTransported=function(e){return e.syncPosition&&e.syncPosition instanceof Function&&e.advancePosition&&e.advancePosition instanceof Function},i.implementsSpeedControlled=function(e){return e.syncSpeed&&e.syncSpeed instanceof Function},i.setScheduled=function(e,t,n,i){e.interface="scheduled",e.__setGetters(n,i),t&&(e.resetNextTime=t)},i.setTransported=function(e,t,n,i){e.interface="transported",e.__setGetters(n,i),t&&(e.resetNextPosition=t)},i.setSpeedControlled=function(e,t,n){e.interface="speed-controlled",e.__setGetters(t,n)},i.resetInterface=function(e){e.__deleteGetters(),delete e.resetNextTime,delete e.resetNextPosition,e.interface=null},t.exports=i},{"audio-context":4}],4:[function(e,t){t.exports=e(2)},{}]},{},[1])(1)});