!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.wavesAudio=e()}}(function(){return function e(t,i,n){function r(o,a){if(!i[o]){if(!t[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=i[o]={exports:{}};t[o][0].call(l.exports,function(e){var i=t[o][1][e];return r(i?i:e)},l,l.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t){"use strict";var i={audioContext:e("./dist/core/audio-context"),TimeEngine:e("./dist/core/time-engine"),AudioTimeEngine:e("./dist/core/audio-time-engine"),GranularEngine:e("./dist/engines/granular-engine"),Metronome:e("./dist/engines/metronome"),PlayerEngine:e("./dist/engines/player-engine"),SegmentEngine:e("./dist/engines/segment-engine"),PlayControl:e("./dist/masters/play-control"),Transport:e("./dist/masters/transport"),Scheduler:e("./dist/masters/scheduler"),SimpleScheduler:e("./dist/masters/simple-scheduler"),PriorityQueue:e("./dist/utils/priority-queue"),SchedulingQueue:e("./dist/utils/scheduling-queue"),getScheduler:e("./dist/masters/factories").getScheduler,getSimpleScheduler:e("./dist/masters/factories").getSimpleScheduler};t.exports=i},{"./dist/core/audio-context":3,"./dist/core/audio-time-engine":4,"./dist/core/time-engine":5,"./dist/engines/granular-engine":6,"./dist/engines/metronome":7,"./dist/engines/player-engine":8,"./dist/engines/segment-engine":9,"./dist/masters/factories":10,"./dist/masters/play-control":11,"./dist/masters/scheduler":12,"./dist/masters/simple-scheduler":13,"./dist/masters/transport":14,"./dist/utils/priority-queue":15,"./dist/utils/scheduling-queue":16}],2:[function(){"use strict";!function(){function e(e){e&&(e.setTargetAtTime||(e.setTargetAtTime=e.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var t=this.internal_createGain();return e(t.gain),t},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(t){var i=t?this.internal_createDelay(t):this.internal_createDelay();return e(i.delayTime),i},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var t=this.internal_createBufferSource();return t.start||(t.start=function(e,t,i){t||i?this.noteGrainOn(e,t,i):this.noteOn(e)}),t.stop||(t.stop=t.noteOff),e(t.playbackRate),t},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var t=this.internal_createDynamicsCompressor();return e(t.threshold),e(t.knee),e(t.ratio),e(t.reduction),e(t.attack),e(t.release),t},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var t=this.internal_createBiquadFilter();return e(t.frequency),e(t.detune),e(t.Q),e(t.gain),t},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var t=this.internal_createOscillator();return t.start||(t.start=t.noteOn),t.stop||(t.stop=t.noteOff),t.setPeriodicWave||(t.setPeriodicWave=t.setWaveTable),e(t.frequency),e(t.detune),t}))}(window)},{}],3:[function(e,t,i){"use strict";var n=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(i,"__esModule",{value:!0});{var r,s=e("./ac-monkeypatch");n(s)}window.AudioContext&&(r=new window.AudioContext),i["default"]=r,t.exports=i["default"]},{"./ac-monkeypatch":2,"babel-runtime/helpers/interop-require-default":27}],4:[function(e,t,i){"use strict";var n=e("babel-runtime/helpers/get")["default"],r=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(i,"__esModule",{value:!0});var u=e("./time-engine"),c=a(u),l=e("./audio-context"),h=a(l),_=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?h["default"]:arguments[0];o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.audioContext=e,this.outputNode=null}return r(t,e),s(t,[{key:"connect",value:function(e){return this.outputNode.connect(e),this}},{key:"disconnect",value:function(e){return this.outputNode.disconnect(e),this}}]),t}(c["default"]);i["default"]=_,t.exports=i["default"]},{"./audio-context":3,"./time-engine":5,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":25,"babel-runtime/helpers/inherits":26,"babel-runtime/helpers/interop-require-default":27}],5:[function(e,t,i){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],r=e("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(){r(this,e),this.master=null,this.outputNode=null}return n(e,[{key:"implementsScheduled",value:function(){return this.advanceTime&&this.advanceTime instanceof Function}},{key:"resetTime",value:function(){var e=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];this.master&&this.master.resetEngineTime(this,e)}},{key:"implementsTransported",value:function(){return this.syncPosition&&this.syncPosition instanceof Function&&this.advancePosition&&this.advancePosition instanceof Function}},{key:"resetPosition",value:function(){var e=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];this.master&&this.master.resetEnginePosition(this,e)}},{key:"implementsSpeedControlled",value:function(){return this.syncSpeed&&this.syncSpeed instanceof Function}},{key:"currentTime",get:function(){return this.master?this.master.currentTime:void 0}},{key:"currentPosition",get:function(){var e=this.master;return e&&void 0!==e.currentPosition?e.currentPosition:void 0}}]),e}();i["default"]=s,t.exports=i["default"]},{"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24}],6:[function(e,t,i){"use strict";function n(e,t){return void 0!==e?e:t}var r=e("babel-runtime/helpers/get")["default"],s=e("babel-runtime/helpers/inherits")["default"],o=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],u=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(i,"__esModule",{value:!0});var c=e("../core/audio-time-engine"),l=u(c),h=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];a(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e.audioContext),this.buffer=n(e.buffer,null),this.periodAbs=n(e.periodAbs,.01),this.periodRel=n(e.periodRel,0),this.periodVar=n(e.periodVar,0),this.position=n(e.position,0),this.positionVar=n(e.positionVar,.003),this.durationAbs=n(e.durationAbs,.1),this.durationRel=n(e.durationRel,0),this.attackAbs=n(e.attackAbs,0),this.attackRel=n(e.attackRel,.5),this.attackShape=n(e.attackShape,"lin"),this.releaseAbs=n(e.releaseAbs,0),this.releaseRel=n(e.releaseRel,.5),this.releaseShape=n(e.releaseShape,"lin"),this.expRampOffset=n(e.expRampOffset,1e-4),this.resampling=n(e.resampling,0),this.resamplingVar=n(e.resamplingVar,0),this.gain=n(e.gain,1),this.centered=n(e.centered,!0),this.cyclic=n(e.cyclic,!1),this.wrapAroundExtension=n(e.wrapAroundExtension,0),this.outputNode=this.audioContext.createGain()}return s(t,e),o(t,[{key:"advanceTime",value:function(e){return e=Math.max(e,this.audioContext.currentTime),e+this.trigger(e)}},{key:"trigger",value:function(e){var t=this.audioContext,i=e||t.currentTime,n=this.periodAbs,r=this.currentPosition,s=this.durationAbs;if(this.buffer){var o=1;if(0!==this.resampling||this.resamplingVar>0){var a=2*(Math.random()-.5)*this.resamplingVar;o=Math.pow(2,(this.resampling+a)/1200)}n+=this.periodRel*s,s+=this.durationRel*n,this.periodVar>0&&(n+=2*(Math.random()-.5)*this.periodVar*n),this.centered&&(r-=.5*s),this.positionVar>0&&(r+=(2*Math.random()-1)*this.positionVar);var u=this.bufferDuration;if(0>r||r>=u)if(this.cyclic){var c=r/u;r=(c-Math.floor(c))*u,r+s>this.buffer.duration&&(s=this.buffer.duration-r)}else 0>r&&(i-=r,s+=r,r=0),r+s>u&&(s=u-r);if(this.gain>0&&s>=.001){var l=t.createGain(),h=this.attackAbs+this.attackRel*s,_=this.releaseAbs+this.releaseRel*s;if(h+_>s){var f=s/(h+_);h*=f,_*=f}var d=i+h,p=i+s,m=p-_;l.gain.value=0,"lin"===this.attackShape?(l.gain.setValueAtTime(0,i),l.gain.linearRampToValueAtTime(this.gain,d)):(l.gain.setValueAtTime(this.expRampOffset,i),l.gain.exponentialRampToValueAtTime(this.gain,d)),m>d&&l.gain.setValueAtTime(this.gain,m),"lin"===this.releaseShape?l.gain.linearRampToValueAtTime(0,p):l.gain.exponentialRampToValueAtTime(this.expRampOffset,p),l.connect(this.outputNode);var g=t.createBufferSource();g.buffer=this.buffer,g.playbackRate.value=o,g.connect(l),g.start(i,r),g.stop(i+s/o)}}return n}},{key:"bufferDuration",get:function(){if(this.buffer){var e=this.buffer.duration;return this.wrapAroundExtension&&(e-=this.wrapAroundExtension),e}return 0}},{key:"currentPosition",get:function(){var e=this.master;return e&&void 0!==e.currentPosition?e.currentPosition:this.position}}]),t}(l["default"]);i["default"]=h,t.exports=i["default"]},{"../core/audio-time-engine":4,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":25,"babel-runtime/helpers/inherits":26,"babel-runtime/helpers/interop-require-default":27}],7:[function(e,t,i){"use strict";function n(e,t){return void 0!==e?e:t}var r=e("babel-runtime/helpers/get")["default"],s=e("babel-runtime/helpers/inherits")["default"],o=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],u=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(i,"__esModule",{value:!0});var c=e("../core/audio-time-engine"),l=u(c),h=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];a(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e.audioContext),this.__period=n(e.period,1),this.clickFreq=n(e.clickFreq,600),this.clickAttack=n(e.clickAttack,.002),this.clickRelease=n(e.clickRelease,.098),this.__lastTime=0,this.__phase=0,this.__gainNode=this.audioContext.createGain(),this.__gainNode.gain.value=n(e.gain,1),this.outputNode=this.__gainNode}return s(t,e),o(t,[{key:"advanceTime",value:function(e){return this.trigger(e),this.__lastTime=e,e+this.__period}},{key:"syncPosition",value:function(e,t,i){if(this.__period>0){var n=(Math.floor(t/this.__period)+this.__phase)*this.__period;return i>0&&t>n?n+=this.__period:0>i&&n>t&&(n-=this.__period),n}return 1/0}},{key:"advancePosition",value:function(e,t,i){return this.trigger(e),0>i?t-this.__period:t+this.__period}},{key:"trigger",value:function(e){var t=this.audioContext,i=this.clickAttack,n=this.clickRelease,r=t.createGain();r.gain.value=0,r.gain.setValueAtTime(0,e),r.gain.linearRampToValueAtTime(1,e+i),r.gain.exponentialRampToValueAtTime(1e-7,e+i+n),r.gain.setValueAtTime(0,e),r.connect(this.outputNode);var s=t.createOscillator();s.frequency.value=this.clickFreq,s.start(e),s.stop(e+i+n),s.connect(r)}},{key:"gain",set:function(e){this.__gainNode.gain.value=e},get:function(){return this.__gainNode.gain.value}},{key:"period",set:function(e){this.__period=e;var t=this.master;t&&(t.resetEngineTime?t.resetEngineTime(this,this.__lastTime+e):t.resetEnginePosition&&t.resetEnginePosition(this))},get:function(){return this.__period}},{key:"phase",set:function(e){this.__phase=e-Math.floor(e);var t=this.master;t&&void 0!==t.resetEnginePosition&&t.resetEnginePosition(this)},get:function(){return this.__phase}}]),t}(l["default"]);i["default"]=h,t.exports=i["default"]},{"../core/audio-time-engine":4,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":25,"babel-runtime/helpers/inherits":26,"babel-runtime/helpers/interop-require-default":27}],8:[function(e,t,i){"use strict";function n(e,t){return void 0!==e?e:t}var r=e("babel-runtime/helpers/get")["default"],s=e("babel-runtime/helpers/inherits")["default"],o=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],u=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(i,"__esModule",{value:!0});var c=e("../core/audio-time-engine"),l=u(c),h=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];a(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e.audioContext),this.transport=null,this.buffer=n(e.buffer,null),this.fadeTime=n(e.fadeTime,.005),this.__time=0,this.__position=0,this.__speed=0,this.__bufferSource=null,this.__envNode=null,this.__gainNode=this.audioContext.createGain(),this.__gainNode.gain.value=n(e.gain,1),this.__cyclic=n(e.cyclic,!1),this.outputNode=this.__gainNode}return s(t,e),o(t,[{key:"__start",value:function(e,t,i){var n=this.audioContext;if(this.buffer){var r=this.buffer.duration;if(this.__cyclic&&(0>t||t>=r)){var s=t/r;t=(s-Math.floor(s))*r}t>=0&&r>t&&i>0&&(this.__envNode=n.createGain(),this.__envNode.gain.setValueAtTime(0,e),this.__envNode.gain.linearRampToValueAtTime(1,e+this.fadeTime),this.__envNode.connect(this.__gainNode),this.__bufferSource=n.createBufferSource(),this.__bufferSource.buffer=this.buffer,this.__bufferSource.playbackRate.value=i,this.__bufferSource.loop=this.__cyclic,this.__bufferSource.loopStart=0,this.__bufferSource.loopEnd=r,this.__bufferSource.start(e,t),this.__bufferSource.connect(this.__envNode))}}},{key:"__halt",value:function(e){this.__bufferSource&&(this.__envNode.gain.cancelScheduledValues(e),this.__envNode.gain.setValueAtTime(this.__envNode.gain.value,e),this.__envNode.gain.linearRampToValueAtTime(0,e+this.fadeTime),this.__bufferSource.stop(e+this.fadeTime),this.__bufferSource=null,this.__envNode=null)}},{key:"syncSpeed",value:function(e,t,i){var n=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],r=this.__speed;(i!==r||n)&&(n||0>r*i?(this.__halt(e),this.__start(e,t,i)):0===r||n?this.__start(e,t,i):0===i?this.__halt(e):this.__bufferSource&&this.__bufferSource.playbackRate.setValueAtTime(i,e),this.__speed=i)}},{key:"cyclic",set:function(e){if(e!==this.__cyclic){var t=this.currentTime,i=this.currentosition;this.__halt(t),this.__cyclic=e,0!==this.__speed&&this.__start(t,i,this.__speed)}},get:function(){return this.__cyclic}},{key:"gain",set:function(){var e=this.currentTime;this.__gainNode.cancelScheduledValues(e),this.__gainNode.setValueAtTime(this.__gainNode.gain.value,e),this.__gainNode.linearRampToValueAtTime(0,e+this.fadeTime)},get:function(){return this.__gainNode.gain.value}},{key:"bufferDuration",get:function(){return this.buffer?this.buffer.duration:0}}]),t}(l["default"]);i["default"]=h,t.exports=i["default"]},{"../core/audio-time-engine":4,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":25,"babel-runtime/helpers/inherits":26,"babel-runtime/helpers/interop-require-default":27}],9:[function(e,t,i){"use strict";function n(e,t){return void 0!==e?e:t}function r(e,t){var i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],n=e.length;if(n>0){var r=e[0],s=e[n-1];if(r>t)i=-1;else if(t>=s)i=n-1;else{for((0>i||i>=n)&&(i=Math.floor((n-1)*(t-r)/(s-r)));e[i]>t;)i--;for(;e[i+1]<=t;)i++}}return i}function s(e,t){var i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],n=e.length;if(n>0){var r=e[0],s=e[n-1];if(r>=t)i=0;else if(t>=s)i=n;else{for((0>i||i>=n)&&(i=Math.floor((n-1)*(t-r)/(s-r)));e[i]<t;)i++;for(;e[i+1]>=t;)i--}}return i}var o=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/helpers/inherits")["default"],u=e("babel-runtime/helpers/create-class")["default"],c=e("babel-runtime/helpers/class-call-check")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(i,"__esModule",{value:!0});var h=e("../core/audio-time-engine"),_=l(h),f=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];c(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e.audioContext),this.buffer=n(e.buffer,null),this.periodAbs=n(e.periodAbs,0),this.periodRel=n(e.periodRel,1),this.periodVar=n(e.periodVar,0),this.positionArray=n(e.positionArray,[0]),this.positionVar=n(e.positionVar,0),this.durationArray=n(e.durationArray,[0]),this.durationAbs=n(e.durationAbs,0),this.durationRel=n(e.durationRel,1),this.offsetArray=n(e.offsetArray,[0]),this.offsetAbs=n(e.offsetAbs,-.005),this.offsetRel=n(e.offsetRel,0),this.delay=n(e.delay,.005),this.attackAbs=n(e.attackAbs,.005),this.attackRel=n(e.attackRel,0),this.releaseAbs=n(e.releaseAbs,.005),this.releaseRel=n(e.releaseRel,0),this.resampling=n(e.resampling,0),this.resamplingVar=n(e.resamplingVar,0),this.gain=n(e.gain,1),this.segmentIndex=n(e.segmentIndex,0),this.cyclic=n(e.cyclic,!1),this.__cyclicOffset=0,this.wrapAroundExtension=n(e.wrapAroundExtension,0),this.outputNode=this.audioContext.createGain()}return a(t,e),u(t,[{key:"advanceTime",value:function(e){return e=Math.max(e,this.audioContext.currentTime),e+this.trigger(e)}},{key:"syncPosition",value:function(e,t,i){var n=this.segmentIndex,o=0,a=this.bufferDuration;if(this.cyclic){var u=t/a;o=Math.floor(u)*a,t-=o}if(i>0){if(n=s(this.positionArray,t),n>=this.positionArray.length&&(n=0,o+=a,!this.cyclic))return 1/0}else{if(!(0>i))return 1/0;if(n=r(this.positionArray,t),0>n&&(n=this.positionArray.length-1,o-=a,!this.cyclic))return-1/0}return this.segmentIndex=n,this.__cyclicOffset=o,o+this.positionArray[n]}},{key:"advancePosition",value:function(e,t,i){var n=this.segmentIndex,r=this.__cyclicOffset;if(this.trigger(e),i>0){if(n++,n>=this.positionArray.length&&(n=0,r+=this.bufferDuration,!this.cyclic))return 1/0}else if(n--,0>n&&(n=this.positionArray.length-1,r-=this.bufferDuration,!this.cyclic))return-1/0;return this.segmentIndex=n,this.__cyclicOffset=r,r+this.positionArray[n]}},{key:"trigger",value:function(e){var t=this.audioContext,i=(e||t.currentTime)+this.delay,n=this.periodAbs,r=this.segmentIndex;if(this.buffer){var s=0,o=0,a=0,u=1,c=this.bufferDuration;if(this.cyclic?r%=this.positionArray.length:r=Math.max(0,Math.min(r,this.positionArray.length-1)),this.positionArray&&(s=this.positionArray[r]||0),this.durationArray&&(o=this.durationArray[r]||0),this.offsetArray&&(a=this.offsetArray[r]||0),0!==this.resampling||this.resamplingVar>0){var l=2*(Math.random()-.5)*this.resamplingVar;u=Math.pow(2,(this.resampling+l)/1200)}if(0===o||this.periodRel>0){var h,_,f=r+1;f===this.positionArray.length?this.cyclic?(h=this.positionArray[0]+c,_=this.offsetArray[0]):(h=c,_=0):(h=this.positionArray[f],_=this.offsetArray[f]);var d=h-s;a>0&&(d-=a),_>0&&(d+=_),0>d&&(d=0),0===o&&(o=d),n+=this.periodRel*d}if(o*=this.durationRel,o+=this.durationAbs,a*=this.offsetRel,a+=this.offsetAbs,0>a?(o-=a,s+=a,i+=a/u):i-=a/u,this.positionVar>0&&(s+=2*(Math.random()-.5)*this.positionVar),0>s&&(o+=s,s=0),s+o>this.buffer.duration&&(o=this.buffer.duration-s),this.gain>0&&o>0){var p=t.createGain(),m=this.attackAbs+this.attackRel*o,g=this.releaseAbs+this.releaseRel*o;if(m+g>o){var y=o/(m+g);m*=y,g*=y}var v=i+m,b=i+o,k=b-g;p.gain.setValueAtTime(0,i),p.gain.linearRampToValueAtTime(this.gain,v),k>v&&p.gain.setValueAtTime(this.gain,k),p.gain.linearRampToValueAtTime(0,b),p.connect(this.outputNode);var P=t.createBufferSource();P.buffer=this.buffer,P.playbackRate.value=u,P.connect(p),P.start(i,s),P.stop(i+o/u)}}return n}},{key:"bufferDuration",get:function(){if(this.buffer){var e=this.buffer.duration;return this.wrapAroundExtension&&(e-=this.wrapAroundExtension),e}return 0}}]),t}(_["default"]);i["default"]=f,t.exports=i["default"]},{"../core/audio-time-engine":4,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":25,"babel-runtime/helpers/inherits":26,"babel-runtime/helpers/interop-require-default":27}],10:[function(e,t,i){"use strict";var n=e("babel-runtime/core-js/weak-map")["default"],r=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(i,"__esModule",{value:!0});var s=e("../core/audio-context"),o=r(s),a=e("./scheduler"),u=r(a),c=e("./simple-scheduler"),l=r(c),h=new n,_=new n,f=function(){var e=arguments.length<=0||void 0===arguments[0]?o["default"]:arguments[0],t=h.get(e);return t||(t=new u["default"]({audioContext:e}),h.set(e,t)),t},d=function(){var e=arguments.length<=0||void 0===arguments[0]?o["default"]:arguments[0],t=_.get(e);return t||(t=new l["default"]({audioContext:e}),_.set(e,t)),t};i["default"]={getScheduler:f,getSimpleScheduler:d},t.exports=i["default"]},{"../core/audio-context":3,"./scheduler":12,"./simple-scheduler":13,"babel-runtime/core-js/weak-map":22,"babel-runtime/helpers/interop-require-default":27}],11:[function(e,t,i){"use strict";var n=e("babel-runtime/helpers/get")["default"],r=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(i,"__esModule",{value:!0});var u=e("../core/audio-context"),c=a(u),l=e("../core/time-engine"),h=a(l),_=e("../utils/scheduling-queue"),f=a(_),d=e("./factories"),p=function(e){function t(e){o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.__playControl=e,this.lower=-1/0,this.upper=1/0}return r(t,e),s(t,[{key:"advanceTime",value:function(e){var t=this.__playControl,i=t.speed,n=this.lower,r=this.upper;return i>0?(t.syncSpeed(e,n,i,!0),t.__getTimeAtPosition(r)):0>i?(t.syncSpeed(e,r,i,!0),t.__getTimeAtPosition(n)):1/0}},{key:"reschedule",value:function(e){var t=this.__playControl,i=Math.min(t.__loopStart,t.__loopEnd),n=Math.max(t.__loopStart,t.__loopEnd);this.speed=e,this.lower=i,this.upper=n,i===n&&(e=0),this.resetTime(e>0?t.__getTimeAtPosition(n-1e-6):0>e?t.__getTimeAtPosition(i+1e-6):1/0)}},{key:"applyLoopBoundaries",value:function(e,t){var i=this.lower,n=this.upper;return t>0&&e>=n?i+(e-i)%(n-i):0>t&&i>e?n-(n-e)%(n-i):e}}]),t}(h["default"]),m=function(){function e(t,i){o(this,e),this.__playControl=t,this.__engine=i,i.master=this}return s(e,[{key:"syncSpeed",value:function(e,t,i,n){this.__engine.syncSpeed(e,t,i,n)}},{key:"destroy",value:function(){this.__engine.master=null,this.__playControl=null,this.__engine=null}},{key:"currentTime",get:function(){return this.__playControl.currentTime}},{key:"currentPosition",get:function(){return this.__playControl.currentPosition}}]),e}(),g=function(e){function t(e,i){o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,i)}return r(t,e),t}(m),y=function(e){function t(e,i){o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.__playControl=e,this.__engine=i,this.__nextPosition=1/0,e.__scheduler.add(this,1/0)}return r(t,e),s(t,[{key:"advanceTime",value:function(e){for(var t=this.__playControl,i=this.__engine,n=this.__nextPosition,r=i.advancePosition(e,n,t.__speed),s=t.__getTimeAtPosition(r);e>=s;)r=i.advancePosition(e,n,t.__speed),s=t.__getTimeAtPosition(r);return this.__nextPosition=r,s}},{key:"resetPosition",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.__nextPosition:arguments[0],t=this.__playControl.__getTimeAtPosition(e);this.__nextPosition=e,this.resetTime(t)}},{key:"destroy",value:function(){this.__playControl.__scheduler.remove(this),this.__playControl=null,this.__engine=null}}]),t}(h["default"]),v=function(e){function t(e,i){o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,i),this.__schedulerHook=new y(e,i)}return r(t,e),s(t,[{key:"syncSpeed",value:function(e,t,i,n,r){var s=this.__nextPosition;n?s=this.__engine.syncPosition(e,t,i):0===r?s=this.__engine.syncPosition(e,t,i):0===i?(s=1/0,this.__engine.syncSpeed&&this.__engine.syncSpeed(e,t,0)):0>i*r?s=this.__engine.syncPosition(e,t,i):this.__engine.syncSpeed&&this.__engine.syncSpeed(e,t,i),this.__schedulerHook.resetPosition(s)}},{key:"resetEnginePosition",value:function(){var e=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];if(void 0===e){var t=this.__playControl,i=t.__sync();e=this.__engine.syncPosition(i,t.__position,t.__speed)}this.__schedulerHook.resetPosition(e)}},{key:"destroy",value:function(){this.__schedulerHook.destroy(),this.__schedulerHook=null,n(Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(m),b=function(e){function t(e,i){o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.__playControl=e,this.__engine=i,this.add(i,1/0),e.__scheduler.add(this,1/0)}return r(t,e),s(t,[{key:"destroy",value:function(){this.__playControl.__scheduler.remove(this),this.remove(this.__engine),this.__playControl=null,this.__engine=null}},{key:"currentTime",get:function(){return this.__playControl.currentTime}},{key:"currentPosition",get:function(){return this.__playControl.currentPosition}}]),t}(f["default"]),k=function(e){function t(e,i){o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,i),this.__schedulingQueue=new b(e,i)}return r(t,e),s(t,[{key:"syncSpeed",value:function(e,t,i,n,r){0===r&&0!==i?this.__engine.resetTime():0!==r&&0===i&&this.__engine.resetTime(1/0)}},{key:"destroy",value:function(){this.__schedulingQueue.destroy(),n(Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(m),P=function(e){function t(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.audioContext=i.audioContext||c["default"],this.__scheduler=d.getScheduler(this.audioContext),this.__playControlled=null,this.__loopControl=null,this.__loopStart=0,this.__loopEnd=1/0,this.__time=0,this.__position=0,this.__speed=0,this.__playingSpeed=1,e&&this.__setEngine(e)}return r(t,e),s(t,[{key:"__setEngine",value:function(e){if(e.master)throw new Error("object has already been added to a master");if(e.implementsSpeedControlled())this.__playControlled=new g(this,e);else if(e.implementsTransported())this.__playControlled=new v(this,e);else{if(!e.implementsScheduled())throw new Error("object cannot be added to play control");this.__playControlled=new k(this,e)}}},{key:"__resetEngine",value:function(){this.__playControlled.destroy(),this.__playControlled=null}},{key:"__getTimeAtPosition",value:function(e){return this.__time+(e-this.__position)/this.__speed}},{key:"__getPositionAtTime",value:function(e){return this.__position+(e-this.__time)*this.__speed}},{key:"__sync",value:function(){var e=this.currentTime;return this.__position+=(e-this.__time)*this.__speed,this.__time=e,e}},{key:"set",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=this.__sync(),i=this.__speed;null!==this.__playControlled&&this.__playControlled.__engine!==e&&(this.syncSpeed(t,this.__position,0),this.__playControlled&&this.__resetEngine(),null===this.__playControlled&&null!==e&&(this.__setEngine(e),0!==i&&this.syncSpeed(t,this.__position,i)))}},{key:"setLoopBoundaries",value:function(e,t){this.__loopStart=e,this.__loopEnd=t,this.loop=this.loop}},{key:"syncSpeed",value:function(e,t,i){var n=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],r=this.__speed;(i!==r||n)&&((n||0===r)&&this.__loopControl&&(t=this.__loopControl.applyLoopBoundaries(t,i)),this.__time=e,this.__position=t,this.__speed=i,this.__playControlled&&this.__playControlled.syncSpeed(e,t,i,n,r),this.__loopControl&&this.__loopControl.reschedule(i))}},{key:"start",value:function(){var e=this.__sync();this.syncSpeed(e,this.__position,this.__playingSpeed)}},{key:"pause",value:function(){var e=this.__sync();this.syncSpeed(e,this.__position,0)}},{key:"stop",value:function(){var e=this.__sync();this.syncSpeed(e,this.__position,0),this.seek(0)}},{key:"seek",value:function(e){if(e!==this.__position){var t=this.__sync();this.__position=e,this.syncSpeed(t,e,this.__speed,!0)}}},{key:"currentTime",get:function(){return this.__scheduler.currentTime}},{key:"currentPosition",get:function(){return this.__position+(this.__scheduler.currentTime-this.__time)*this.__speed}},{key:"loop",set:function(e){e&&this.__loopStart>-1/0&&this.__loopEnd<1/0?(this.__loopControl||(this.__loopControl=new p(this),this.__scheduler.add(this.__loopControl,1/0)),0!==this.__speed&&this.__loopControl.reschedule(this.__speed)):this.__loopControl&&(this.__scheduler.remove(this.__loopControl),this.__loopControl=null)},get:function(){return!!this.__loopControl}},{key:"loopStart",set:function(e){this.setLoopBoundaries(e,this.__loopEnd)},get:function(){return this.__loopStart}},{key:"loopEnd",set:function(e){this.setLoopBoundaries(this.__loopStart,e)},get:function(){return this.__loopEnd}},{key:"speed",set:function(e){var t=this.__sync();e>=0?.01>e?e=.01:e>100&&(e=100):-100>e?e=-100:e>-.01&&(e=-.01),this.__playingSpeed=e,0!==this.__speed&&this.syncSpeed(t,this.__position,e)},get:function(){return this.__playingSpeed}}]),t}(h["default"]);i["default"]=P,t.exports=i["default"]},{"../core/audio-context":3,"../core/time-engine":5,"../utils/scheduling-queue":16,"./factories":10,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":25,"babel-runtime/helpers/inherits":26,"babel-runtime/helpers/interop-require-default":27}],12:[function(e,t,i){"use strict";var n=e("babel-runtime/helpers/get")["default"],r=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(i,"__esModule",{value:!0});var u=e("../core/audio-context"),c=a(u),l=e("../core/time-engine"),h=(a(l),e("../utils/priority-queue")),_=(a(h),e("../utils/scheduling-queue")),f=a(_),d=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.audioContext=e.audioContext||c["default"],this.__currentTime=null,this.__nextTime=1/0,this.__timeout=null,this.period=e.period||.025,this.lookahead=e.lookahead||.1}return r(t,e),s(t,[{key:"__tick",value:function(){var e=this.audioContext,t=this.__nextTime;for(this.__timeout=null;t<=e.currentTime+this.lookahead;)this.__currentTime=t,t=this.advanceTime(t);this.__currentTime=null,this.resetTime(t)}},{key:"resetTime",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?this.currentTime:arguments[0];if(this.master)this.master.reset(this,t);else{if(this.__timeout&&(clearTimeout(this.__timeout),this.__timeout=null),1/0!==t){1/0===this.__nextTime&&console.log("Scheduler Start");
var i=Math.max(t-this.lookahead-this.audioContext.currentTime,this.period);this.__timeout=setTimeout(function(){e.__tick()},1e3*i)}else 1/0!==this.__nextTime&&console.log("Scheduler Stop");this.__nextTime=t}}},{key:"add",value:function(e){var i,r=arguments.length<=1||void 0===arguments[1]?this.currentTime:arguments[1];if(e instanceof Function)i={advanceTime:e};else{if(i=e,!i.implementsScheduled())throw new Error("object cannot be added to scheduler");if(i.master)throw new Error("object has already been added to a master")}n(Object.getPrototypeOf(t.prototype),"add",this).call(this,i,r)}},{key:"remove",value:function(e){if(e.master!==this)throw new Error("object has not been added to this scheduler");n(Object.getPrototypeOf(t.prototype),"remove",this).call(this,e)}},{key:"resetEngineTime",value:function(e){var i=arguments.length<=1||void 0===arguments[1]?this.currentTime:arguments[1];if(e.master!==this)throw new Error("object has not been added to this scheduler");n(Object.getPrototypeOf(t.prototype),"resetEngineTime",this).call(this,e,i)}},{key:"currentTime",get:function(){return this.master?this.master.currentTime:this.__currentTime||this.audioContext.currentTime+this.lookahead}},{key:"currentPosition",get:function(){var e=this.master;return e&&void 0!==e.currentPosition?e.currentPosition:void 0}}]),t}(f["default"]);i["default"]=d,t.exports=i["default"]},{"../core/audio-context":3,"../core/time-engine":5,"../utils/priority-queue":15,"../utils/scheduling-queue":16,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":25,"babel-runtime/helpers/inherits":26,"babel-runtime/helpers/interop-require-default":27}],13:[function(e,t,i){"use strict";function n(e,t){var i=e.indexOf(t);return i>=0?(e.splice(i,1),!0):!1}var r=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(i,"__esModule",{value:!0});var a=e("../core/audio-context"),u=o(a),c=e("../core/time-engine"),l=(o(c),function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s(this,e),this.audioContext=t.audioContext||u["default"],this.__engines=[],this.__schedEngines=[],this.__schedTimes=[],this.__currentTime=null,this.__timeout=null,this.period=t.period||.025,this.lookahead=t.lookahead||.1}return r(e,[{key:"__scheduleEngine",value:function(e,t){this.__schedEngines.push(e),this.__schedTimes.push(t)}},{key:"__rescheduleEngine",value:function(e,t){var i=this.__schedEngines.indexOf(e);i>=0?1/0!==t?this.__schedTimes[i]=t:(this.__schedEngines.splice(i,1),this.__schedTimes.splice(i,1)):1/0>t&&(this.__schedEngines.push(e),this.__schedTimes.push(t))}},{key:"__unscheduleEngine",value:function(e){var t=this.__schedEngines.indexOf(e);t>=0&&(this.__schedEngines.splice(t,1),this.__schedTimes.splice(t,1))}},{key:"__resetTick",value:function(){this.__schedEngines.length>0?this.__timeout||(console.log("SimpleScheduler Start"),this.__tick()):this.__timeout&&(console.log("SimpleScheduler Stop"),clearTimeout(this.__timeout),this.__timeout=null)}},{key:"__tick",value:function(){for(var e=this,t=this.audioContext,i=0;i<this.__schedEngines.length;){for(var r=this.__schedEngines[i],s=this.__schedTimes[i];s&&s<=t.currentTime+this.lookahead;)s=Math.max(s,t.currentTime),this.__currentTime=s,s=r.advanceTime(s);s&&1/0>s?this.__schedTimes[i++]=s:(this.__unscheduleEngine(r),s||(r.master=null,n(this.__engines,r)))}this.__currentTime=null,this.__timeout=null,this.__schedEngines.length>0&&(this.__timeout=setTimeout(function(){e.__tick()},1e3*this.period))}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentTime:arguments[1],i=(arguments.length<=2||void 0===arguments[2]?null:arguments[2],e);if(e instanceof Function)i={advanceTime:e};else{if(!e.implementsScheduled())throw new Error("object cannot be added to scheduler");if(e.master)throw new Error("object has already been added to a master")}return i.master=this,this.__engines.push(i),this.__scheduleEngine(i,t),this.__resetTick(),i}},{key:"remove",value:function(e){if(!e.master||e.master!==this)throw new Error("engine has not been added to this scheduler");e.master=null,n(this.__engines,e),this.__unscheduleEngine(e),this.__resetTick()}},{key:"resetEngineTime",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentTime:arguments[1];this.__rescheduleEngine(e,t),this.__resetTick()}},{key:"clear",value:function(){this.__timeout&&(clearTimeout(this.__timeout),this.__timeout=null),this.__schedEngines.length=0,this.__schedTimes.length=0}},{key:"currentTime",get:function(){return this.__currentTime||this.audioContext.currentTime+this.lookahead}},{key:"currentPosition",get:function(){return void 0}}]),e}());i["default"]=l,t.exports=i["default"]},{"../core/audio-context":3,"../core/time-engine":5,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/interop-require-default":27}],14:[function(e,t,i){"use strict";function n(e,t,i,n){e.push(i),t.push(n)}function r(e,t,i){var n=e.indexOf(i);if(n>=0){var r=t[n];return e.splice(n,1),t.splice(n,1),r}return null}var s=e("babel-runtime/helpers/get")["default"],o=e("babel-runtime/helpers/inherits")["default"],a=e("babel-runtime/helpers/create-class")["default"],u=e("babel-runtime/helpers/class-call-check")["default"],c=e("babel-runtime/core-js/get-iterator")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(i,"__esModule",{value:!0});var h=e("../core/audio-context"),_=l(h),f=e("../core/time-engine"),d=l(f),p=e("../utils/priority-queue"),m=l(p),g=e("../utils/scheduling-queue"),y=l(g),v=e("./factories"),b=function(e){function t(e,i,n,r,o){var a=arguments.length<=5||void 0===arguments[5]?1:arguments[5];u(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.master=e,i.master=this,this.__engine=i,this.__startPosition=n,this.__endPosition=isFinite(r)?n+r:1/0,this.__offsetPosition=n+o,this.__stretchPosition=a,this.__haltPosition=1/0,console.log(this.__startPosition,this.__endPosition,this.__offsetPosition,this.__stretchPosition)}return o(t,e),a(t,[{key:"setBoundaries",value:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],n=arguments.length<=3||void 0===arguments[3]?1:arguments[3];this.__startPosition=e,this.__endPosition=e+t,this.__offsetPosition=e+i,this.__stretchPosition=n,this.resetPosition()}},{key:"start",value:function(){}},{key:"stop",value:function(){}},{key:"resetPosition",value:function(e){void 0!==e&&(e+=this.__offsetPosition),this.master.resetEnginePosition(this,e)}},{key:"syncPosition",value:function(e,t,i){if(i>0){if(t<this.__startPosition)return null===this.__haltPosition&&this.stop(e,t-this.__offsetPosition),this.__haltPosition=this.__endPosition,this.__startPosition;if(t<=this.__endPosition)return this.start(e,t-this.__offsetPosition,i),this.__haltPosition=null,this.__endPosition}else{if(t>=this.__endPosition)return null===this.__haltPosition&&this.stop(e,t-this.__offsetPosition),this.__haltPosition=this.__startPosition,this.__endPosition;if(t>this.__startPosition)return this.start(e,t-this.__offsetPosition,i),this.__haltPosition=null,this.__startPosition}return null===this.__haltPosition&&this.stop(e,t),this.__haltPosition=1/0,1/0}},{key:"advancePosition",value:function(e,t,i){var n=this.__haltPosition;return null!==n?(this.start(e,t-this.__offsetPosition,i),this.__haltPosition=null,n):(null===this.__haltPosition&&this.stop(e,t-this.__offsetPosition),this.__haltPosition=1/0,1/0)}},{key:"syncSpeed",value:function(e,t,i){0===i&&this.stop(e,t-this.__offsetPosition)}},{key:"destroy",value:function(){this.master=null,this.__engine.master=null,this.__engine=null}},{key:"currentTime",get:function(){return this.master.currentTime}},{key:"currentPosition",get:function(){return this.master.currentPosition-this.__offsetPosition}}]),t}(d["default"]),k=function(e){function t(e,i,n,r,o){u(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,i,n,r,o)}return o(t,e),a(t,[{key:"syncPosition",value:function(e,t,i){return i>0&&t<this.__endPosition?t=Math.max(t,this.__startPosition):0>i&&t>=this.__startPosition&&(t=Math.min(t,this.__endPosition)),this.__offsetPosition+this.__engine.syncPosition(e,t-this.__offsetPosition,i)}},{key:"advancePosition",value:function(e,t,i){return t=this.__offsetPosition+this.__engine.advancePosition(e,t-this.__offsetPosition,i),i>0&&t<this.__endPosition||0>i&&t>=this.__startPosition?t:1/0}},{key:"syncSpeed",value:function(e,t,i){this.__engine.syncSpeed&&this.__engine.syncSpeed(e,t,i)}},{key:"resetEnginePosition",value:function(){var e=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];void 0!==e&&(e+=this.__offsetPosition),this.resetPosition(e)}}]),t}(b),P=function(e){function t(e,i,n,r,o){u(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,i,n,r,o)}return o(t,e),a(t,[{key:"start",value:function(e,t,i){this.__engine.syncSpeed(e,t,i,!0)}},{key:"stop",value:function(e,t){this.__engine.syncSpeed(e,t,0)}},{key:"syncSpeed",value:function(e,t,i){null===this.__haltPosition&&this.__engine.syncSpeed(e,t,i)}},{key:"destroy",value:function(){this.__engine.syncSpeed(this.master.currentTime,this.master.currentPosition-this.__offsetPosition,0),s(Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(b),x=function(e){function t(e,i,n,r,o){u(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,i,n,r,o),e.__schedulingQueue.add(i,1/0)}return o(t,e),a(t,[{key:"start",value:function(e){this.master.__schedulingQueue.resetEngineTime(this.__engine,e)}},{key:"stop",value:function(){this.master.__schedulingQueue.resetEngineTime(this.__engine,1/0)}},{key:"destroy",value:function(){this.master.__schedulingQueue.remove(this.__engine),s(Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(b),$=function(e){function t(e){u(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.__transport=e,this.__nextPosition=1/0,this.__nextTime=1/0,e.__scheduler.add(this,1/0)}return o(t,e),a(t,[{key:"advanceTime",value:function(e){for(var t=this.__transport,i=this.__nextPosition,n=t.__speed,r=t.advancePosition(e,i,n),s=t.__getTimeAtPosition(r);e>=s;)r=t.advancePosition(s,r,n),s=t.__getTimeAtPosition(r);return this.__nextPosition=r,this.__nextTime=s,s}},{key:"resetPosition",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.__nextPosition:arguments[0],t=this.__transport,i=t.__getTimeAtPosition(e);this.__nextPosition=e,this.__nextTime=i,this.resetTime(i)}},{key:"destroy",value:function(){this.__transport.__scheduler.remove(this),this.__transport=null}}]),t}(d["default"]),T=function(e){function t(e){u(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.__transport=e,e.__scheduler.add(this,1/0)}return o(t,e),a(t,[{key:"destroy",value:function(){this.__transport.__scheduler.remove(this),this.__transport=null}},{key:"currentTime",get:function(){return this.__transport.currentTime}},{key:"currentPosition",get:function(){return this.__transport.currentPosition}}]),t}(y["default"]),j=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];u(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.audioContext=e.audioContext||_["default"],this.__engines=[],this.__transported=[],this.__scheduler=v.getScheduler(this.audioContext),this.__schedulerHook=new $(this),this.__transportedQueue=new m["default"],this.__schedulingQueue=new T(this),this.__time=0,this.__position=0,this.__speed=0}return o(t,e),a(t,[{key:"__getTimeAtPosition",value:function(e){return this.__time+(e-this.__position)/this.__speed}},{key:"__getPositionAtTime",value:function(e){return this.__position+(e-this.__time)*this.__speed}},{key:"__syncTransportedPosition",value:function(e,t,i){var n=this.__transported.length,r=1/0;if(n>0){var s,o;this.__transportedQueue.clear(),this.__transportedQueue.reverse=0>i;for(var a=n-1;a>0;a--)s=this.__transported[a],o=s.syncPosition(e,t,i),this.__transportedQueue.insert(s,o,!1);s=this.__transported[0],o=s.syncPosition(e,t,i),r=this.__transportedQueue.insert(s,o,!0)}return r}},{key:"__syncTransportedSpeed",value:function(e,t,i){var n=!0,r=!1,s=void 0;try{for(var o,a=c(this.__transported);!(n=(o=a.next()).done);n=!0){var u=o.value;u.syncSpeed(e,t,i)}}catch(l){r=!0,s=l}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw s}}}},{key:"resetPosition",value:function(e){var t=this.master;t&&void 0!==t.resetEnginePosition?t.resetEnginePosition(this,e):this.__schedulerHook.resetPosition(e)}},{key:"syncPosition",value:function(e,t,i){return this.__time=e,this.__position=t,this.__speed=i,this.__syncTransportedPosition(e,t,i)}},{key:"advancePosition",value:function(e,t,i){console.log(e,t,i);for(var n=this.__transportedQueue.time;n===t;){var r=this.__transportedQueue.head,s=r.advancePosition(e,t,i);n=(i>0&&s>t||0>i&&t>s)&&1/0>s&&s>-1/0?this.__transportedQueue.move(r,s):this.__transportedQueue.remove(r)}return n}},{key:"syncSpeed",value:function(e,t,i){var n=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],r=this.__speed;if(this.__time=e,this.__position=t,this.__speed=i,i!==r||n&&0!==i){var s;n||0>i*r?s=this.__syncTransportedPosition(e,t,i):0===r?s=this.__syncTransportedPosition(e,t,i):0===i?(s=1/0,this.__syncTransportedSpeed(e,t,0)):this.__syncTransportedSpeed(e,t,i),this.resetPosition(s)}}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?-1/0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?1/0:arguments[2],r=arguments.length<=3||void 0===arguments[3]?0:arguments[3],s=null;if(e.master)throw new Error("object has already been added to a master");if(e.implementsTransported())s=new k(this,e,t,i,r);else if(e.implementsSpeedControlled())s=new P(this,e,t,i,r);else{if(!e.implementsScheduled())throw new Error("object cannot be added to a transport");s=new x(this,e,t,i,r)}if(s){var o=this.__speed;if(n(this.__engines,this.__transported,e,s),0!==o){var a=s.syncPosition(this.currentTime,this.currentPosition,o),u=this.__transportedQueue.insert(s,a);this.resetPosition(u)}}return s}},{key:"remove",value:function(e){var t=e,i=r(this.__engines,this.__transported,e);if(i||(t=r(this.__transported,this.__engines,e),i=e),!t||!i)throw new Error("object has not been added to this transport");var n=this.__transportedQueue.remove(i);i.destroy(),0!==this.__speed&&this.resetPosition(n)}},{key:"resetEnginePosition",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],i=this.__speed;if(0!==i){void 0===t&&(t=e.syncPosition(this.currentTime,this.currentPosition,i));var n=this.__transportedQueue.move(e,t);this.resetPosition(n)}}},{key:"clear",value:function(){this.syncSpeed(this.currentTime,this.currentPosition,0);var e=!0,t=!1,i=void 0;try{for(var n,r=c(this.__transported);!(e=(n=r.next()).done);e=!0){var s=n.value;s.destroy()}}catch(o){t=!0,i=o}finally{try{!e&&r["return"]&&r["return"]()}finally{if(t)throw i}}}},{key:"currentTime",get:function(){return this.__scheduler.currentTime}},{key:"currentPosition",get:function(){var e=this.master;return e&&void 0!==e.currentPosition?e.currentPosition:this.__position+(this.__scheduler.currentTime-this.__time)*this.__speed}}]),t}(d["default"]);i["default"]=j,t.exports=i["default"]},{"../core/audio-context":3,"../core/time-engine":5,"../utils/priority-queue":15,"../utils/scheduling-queue":16,"./factories":10,"babel-runtime/core-js/get-iterator":17,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":25,"babel-runtime/helpers/inherits":26,"babel-runtime/helpers/interop-require-default":27}],15:[function(e,t,i){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],r=e("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(){r(this,e),this.__objects=[],this.reverse=!1}return n(e,[{key:"__objectIndex",value:function(e){for(var t=0;t<this.__objects.length;t++)if(e===this.__objects[t][0])return t;return-1}},{key:"__removeObject",value:function(e){var t=this.__objectIndex(e);return t>=0&&this.__objects.splice(t,1),this.__objects.length>0?this.__objects[0][1]:1/0}},{key:"__sortObjects",value:function(){this.__objects.sort(this.reverse?function(e,t){return t[1]-e[1]}:function(e,t){return e[1]-t[1]})}},{key:"insert",value:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];return 1/0!==t&&t!=-1/0?(this.__objects.push([e,t]),i&&this.__sortObjects(),this.__objects[0][1]):this.__removeObject(e)}},{key:"move",value:function(e,t){if(1/0!==t&&t!=-1/0){var i=this.__objectIndex(e);return 0>i?this.__objects.push([e,t]):this.__objects[i][1]=t,this.__sortObjects(),this.__objects[0][1]}return this.__removeObject(e)}},{key:"remove",value:function(e){return this.__removeObject(e)}},{key:"clear",value:function(){return this.__objects.length=0,1/0}},{key:"head",get:function(){return this.__objects.length>0?this.__objects[0][0]:null}},{key:"time",get:function(){return this.__objects.length>0?this.__objects[0][1]:1/0}}]),e}();i["default"]=s,t.exports=i["default"]},{"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24}],16:[function(e,t,i){"use strict";function n(e,t){var i=e.indexOf(t);return i>=0?(e.splice(i,1),!0):!1}var r=e("babel-runtime/helpers/get")["default"],s=e("babel-runtime/helpers/inherits")["default"],o=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],u=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(i,"__esModule",{value:!0});var c=e("../utils/priority-queue"),l=u(c),h=e("../core/time-engine"),_=u(h),f=e("../core/audio-context"),d=(u(f),function(e){function t(){a(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.__queue=new l["default"],this.__engines=[]}return s(t,e),o(t,[{key:"advanceTime",value:function(e){for(var t=this.__queue.time;e>=t;){var i=this.__queue.head,r=i.advanceTime(e);r?t=r>e&&1/0>r?this.__queue.move(i,r):this.__queue.remove(i):(i.master=null,n(this.__engines,i),t=this.__queue.remove(i))}return t}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentTime:arguments[1];e.master=this,this.__engines.push(e);var i=this.__queue.insert(e,t);this.resetTime(i)}},{key:"remove",value:function(e){e.master=null,n(this.__engines,e);var t=this.__queue.remove(e);this.resetTime(t)}},{key:"resetEngineTime",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentTime:arguments[1],i=this.__queue.move(e,t);this.resetTime(i)}},{key:"clear",value:function(){this.__queue.clear(),this.__engines.length=0,this.resetTime(1/0)}},{key:"currentTime",get:function(){return 0}}]),t}(_["default"]));i["default"]=d,t.exports=i["default"]},{"../core/audio-context":3,"../core/time-engine":5,"../utils/priority-queue":15,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":25,"babel-runtime/helpers/inherits":26,"babel-runtime/helpers/interop-require-default":27}],17:[function(e,t){t.exports={"default":e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":28}],18:[function(e,t){t.exports={"default":e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":29}],19:[function(e,t){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":30}],20:[function(e,t){t.exports={"default":e("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":31}],21:[function(e,t){t.exports={"default":e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":32}],22:[function(e,t){t.exports={"default":e("core-js/library/fn/weak-map"),__esModule:!0}},{"core-js/library/fn/weak-map":33}],23:[function(e,t,i){"use strict";i["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i.__esModule=!0},{}],24:[function(e,t,i){"use strict";var n=e("babel-runtime/core-js/object/define-property")["default"];i["default"]=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),n(e,r.key,r)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),i.__esModule=!0},{"babel-runtime/core-js/object/define-property":19}],25:[function(e,t,i){"use strict";var n=e("babel-runtime/core-js/object/get-own-property-descriptor")["default"];i["default"]=function(e,t,i){for(var r=!0;r;){var s=e,o=t,a=i;u=l=c=void 0,r=!1,null===s&&(s=Function.prototype);var u=n(s,o);if(void 0!==u){if("value"in u)return u.value;var c=u.get;return void 0===c?void 0:c.call(a)}var l=Object.getPrototypeOf(s);if(null===l)return void 0;e=l,t=o,i=a,r=!0}},i.__esModule=!0},{"babel-runtime/core-js/object/get-own-property-descriptor":20}],26:[function(e,t,i){"use strict";var n=e("babel-runtime/core-js/object/create")["default"],r=e("babel-runtime/core-js/object/set-prototype-of")["default"];i["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=n(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r?r(e,t):e.__proto__=t)},i.__esModule=!0},{"babel-runtime/core-js/object/create":18,"babel-runtime/core-js/object/set-prototype-of":21}],27:[function(e,t,i){"use strict";i["default"]=function(e){return e&&e.__esModule?e:{"default":e}},i.__esModule=!0},{}],28:[function(e,t){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":79,"../modules/es6.string.iterator":84,"../modules/web.dom.iterable":86}],29:[function(e,t){var i=e("../../modules/$");t.exports=function(e,t){return i.create(e,t)}},{"../../modules/$":59}],30:[function(e,t){var i=e("../../modules/$");t.exports=function(e,t,n){return i.setDesc(e,t,n)}},{"../../modules/$":59}],31:[function(e,t){var i=e("../../modules/$");e("../../modules/es6.object.get-own-property-descriptor"),t.exports=function(e,t){return i.getDesc(e,t)}},{"../../modules/$":59,"../../modules/es6.object.get-own-property-descriptor":81}],32:[function(e,t){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/$.core").Object.setPrototypeOf},{"../../modules/$.core":41,"../../modules/es6.object.set-prototype-of":82}],33:[function(e,t){e("../modules/es6.object.to-string"),e("../modules/es6.array.iterator"),e("../modules/es6.weak-map"),t.exports=e("../modules/$.core").WeakMap},{"../modules/$.core":41,"../modules/es6.array.iterator":80,"../modules/es6.object.to-string":83,"../modules/es6.weak-map":85}],34:[function(e,t){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],35:[function(e,t){var i=e("./$.is-object");t.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":52}],36:[function(e,t){var i=e("./$.ctx"),n=e("./$.iobject"),r=e("./$.to-object"),s=e("./$.to-length");t.exports=function(e){var t=1==e,o=2==e,a=3==e,u=4==e,c=6==e,l=5==e||c;return function(h,_,f){for(var d,p,m=r(h),g=n(m),y=i(_,f,3),v=s(g.length),b=0,k=t?Array(v):o?[]:void 0;v>b;b++)if((l||b in g)&&(d=g[b],p=y(d,b,m),e))if(t)k[b]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return b;case 2:k.push(d)}else if(u)return!1;return c?-1:a||u?u:k}}},{"./$.ctx":42,"./$.iobject":50,"./$.to-length":73,"./$.to-object":74}],37:[function(e,t){var i=e("./$.cof"),n=e("./$.wks")("toStringTag"),r="Arguments"==i(function(){return arguments}());t.exports=function(e){var t,s,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(s=(t=Object(e))[n])?s:r?i(t):"Object"==(o=i(t))&&"function"==typeof t.callee?"Arguments":o}},{"./$.cof":38,"./$.wks":77}],38:[function(e,t){var i={}.toString;t.exports=function(e){return i.call(e).slice(8,-1)}},{}],39:[function(e,t){"use strict";var i=e("./$.hide"),n=e("./$.an-object"),r=e("./$.strict-new"),s=e("./$.for-of"),o=e("./$.array-methods"),a=e("./$.uid")("weak"),u=e("./$.is-object"),c=e("./$.has"),l=Object.isExtensible||u,h=o(5),_=o(6),f=0,d=function(e){return e._l||(e._l=new p)},p=function(){this.a=[]},m=function(e,t){return h(e.a,function(e){return e[0]===t})};p.prototype={get:function(e){var t=m(this,e);return t?t[1]:void 0},has:function(e){return!!m(this,e)},set:function(e,t){var i=m(this,e);i?i[1]=t:this.a.push([e,t])},"delete":function(e){var t=_(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(t,i,n,o){var h=t(function(e,t){r(e,h,i),e._i=f++,e._l=void 0,void 0!=t&&s(t,n,e[o],e)});return e("./$.mix")(h.prototype,{"delete":function(e){return u(e)?l(e)?c(e,a)&&c(e[a],this._i)&&delete e[a][this._i]:d(this)["delete"](e):!1},has:function(e){return u(e)?l(e)?c(e,a)&&c(e[a],this._i):d(this).has(e):!1}}),h},def:function(e,t,r){return l(n(t))?(c(t,a)||i(t,a,{}),t[a][e._i]=r):d(e).set(t,r),e},frozenStore:d,WEAK:a}},{"./$.an-object":35,"./$.array-methods":36,"./$.for-of":46,"./$.has":48,"./$.hide":49,"./$.is-object":52,"./$.mix":61,"./$.strict-new":67,"./$.uid":75}],40:[function(e,t){"use strict";var i=e("./$"),n=e("./$.def"),r=e("./$.hide"),s=e("./$.iter-buggy"),o=e("./$.for-of"),a=e("./$.strict-new");t.exports=function(t,u,c,l,h,_){var f=e("./$.global")[t],d=f,p=h?"set":"add",m=d&&d.prototype,g={};return e("./$.support-desc")&&"function"==typeof d&&(_||!s&&m.forEach&&m.entries)?(d=u(function(e,i){a(e,d,t),e._c=new f,void 0!=i&&o(i,h,e[p],e)}),i.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(e){var t="add"==e||"set"==e;e in m&&(!_||"clear"!=e)&&r(d.prototype,e,function(i,n){var r=this._c[e](0===i?0:i,n);return t?this:r})}),"size"in m&&i.setDesc(d.prototype,"size",{get:function(){return this._c.size}})):(d=l.getConstructor(u,t,h,p),e("./$.mix")(d.prototype,c)),e("./$.tag")(d,t),g[t]=d,n(n.G+n.W+n.F,g),_||l.setStrong(d,t,h),d}},{"./$":59,"./$.def":43,"./$.for-of":46,"./$.global":47,"./$.hide":49,"./$.iter-buggy":53,"./$.mix":61,"./$.strict-new":67,"./$.support-desc":69,"./$.tag":70}],41:[function(e,t){var i=t.exports={};"number"==typeof __e&&(__e=i)},{}],42:[function(e,t){var i=e("./$.a-function");t.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},{"./$.a-function":34}],43:[function(e,t){var i=e("./$.global"),n=e("./$.core"),r="prototype",s=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t,a){var u,c,l,h,_=e&o.G,f=e&o.P,d=_?i:e&o.S?i[t]:(i[t]||{})[r],p=_?n:n[t]||(n[t]={});_&&(a=t);for(u in a)c=!(e&o.F)&&d&&u in d,c&&u in p||(l=c?d[u]:a[u],_&&"function"!=typeof d[u]?h=a[u]:e&o.B&&c?h=s(l,i):e&o.W&&d[u]==l?!function(e){h=function(t){return this instanceof e?new e(t):e(t)},h[r]=e[r]}(l):h=f&&"function"==typeof l?s(Function.call,l):l,p[u]=h,f&&((p[r]||(p[r]={}))[u]=l))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,t.exports=o},{"./$.core":41,"./$.global":47}],44:[function(e,t){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],45:[function(e,t){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],46:[function(e,t){var i=e("./$.ctx"),n=e("./$.iter-call"),r=e("./$.is-array-iter"),s=e("./$.an-object"),o=e("./$.to-length"),a=e("./core.get-iterator-method");t.exports=function(e,t,u,c){var l,h,_,f=a(e),d=i(u,c,t?2:1),p=0;if("function"!=typeof f)throw TypeError(e+" is not iterable!");if(r(f))for(l=o(e.length);l>p;p++)t?d(s(h=e[p])[0],h[1]):d(e[p]);else for(_=f.call(e);!(h=_.next()).done;)n(_,d,h.value,t)}},{"./$.an-object":35,"./$.ctx":42,"./$.is-array-iter":51,"./$.iter-call":54,"./$.to-length":73,"./core.get-iterator-method":78}],47:[function(e,t){var i="undefined"!=typeof self&&self.Math==Math?self:Function("return this")();t.exports=i,"number"==typeof __g&&(__g=i)},{}],48:[function(e,t){var i={}.hasOwnProperty;t.exports=function(e,t){return i.call(e,t)}},{}],49:[function(e,t){var i=e("./$"),n=e("./$.property-desc");t.exports=e("./$.support-desc")?function(e,t,r){return i.setDesc(e,t,n(1,r))}:function(e,t,i){return e[t]=i,e}},{"./$":59,"./$.property-desc":63,"./$.support-desc":69}],50:[function(e,t){var i=e("./$.cof");t.exports=0 in Object("z")?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},{"./$.cof":38}],51:[function(e,t){var i=e("./$.iterators"),n=e("./$.wks")("iterator");t.exports=function(e){return(i.Array||Array.prototype[n])===e}},{"./$.iterators":58,"./$.wks":77}],52:[function(e,t){t.exports=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}},{}],53:[function(e,t){t.exports="keys"in[]&&!("next"in[].keys())},{}],54:[function(e,t){var i=e("./$.an-object");t.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(s){var o=e["return"];throw void 0!==o&&i(o.call(e)),s}}},{"./$.an-object":35}],55:[function(e,t){"use strict";var i=e("./$"),n={};e("./$.hide")(n,e("./$.wks")("iterator"),function(){return this}),t.exports=function(t,r,s){t.prototype=i.create(n,{next:e("./$.property-desc")(1,s)}),e("./$.tag")(t,r+" Iterator")}},{"./$":59,"./$.hide":49,"./$.property-desc":63,"./$.tag":70,"./$.wks":77}],56:[function(e,t){"use strict";var i=e("./$.library"),n=e("./$.def"),r=e("./$.redef"),s=e("./$.hide"),o=e("./$.has"),a=e("./$.wks")("iterator"),u=e("./$.iterators"),c="@@iterator",l="keys",h="values",_=function(){return this};t.exports=function(t,f,d,p,m,g,y){e("./$.iter-create")(d,f,p);var v,b,k=function(e){switch(e){case l:return function(){return new d(this,e)};case h:return function(){return new d(this,e)}}return function(){return new d(this,e)}},P=f+" Iterator",x=t.prototype,$=x[a]||x[c]||m&&x[m],T=$||k(m);if($){var j=e("./$").getProto(T.call(new t));e("./$.tag")(j,P,!0),!i&&o(x,c)&&s(j,a,_)}if((!i||y)&&s(x,a,T),u[f]=T,u[P]=_,m)if(v={keys:g?T:k(l),values:m==h?T:k(h),entries:m!=h?T:k("entries")},y)for(b in v)b in x||r(x,b,v[b]);else n(n.P+n.F*e("./$.iter-buggy"),f,v)}},{"./$":59,"./$.def":43,"./$.has":48,"./$.hide":49,"./$.iter-buggy":53,"./$.iter-create":55,"./$.iterators":58,"./$.library":60,"./$.redef":64,"./$.tag":70,"./$.wks":77}],57:[function(e,t){t.exports=function(e,t){return{value:t,done:!!e}}},{}],58:[function(e,t){t.exports={}},{}],59:[function(e,t){var i=Object;t.exports={create:i.create,getProto:i.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:i.getOwnPropertyDescriptor,setDesc:i.defineProperty,setDescs:i.defineProperties,getKeys:i.keys,getNames:i.getOwnPropertyNames,getSymbols:i.getOwnPropertySymbols,each:[].forEach}},{}],60:[function(e,t){t.exports=!0},{}],61:[function(e,t){var i=e("./$.redef");t.exports=function(e,t){for(var n in t)i(e,n,t[n]);return e}},{"./$.redef":64}],62:[function(e,t){t.exports=function(t,i){var n=e("./$.def"),r=(e("./$.core").Object||{})[t]||Object[t],s={};s[t]=i(r),n(n.S+n.F*e("./$.fails")(function(){r(1)}),"Object",s)}},{"./$.core":41,"./$.def":43,"./$.fails":45}],63:[function(e,t){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],64:[function(e,t){t.exports=e("./$.hide")},{"./$.hide":49}],65:[function(e,t){var i=e("./$").getDesc,n=e("./$.is-object"),r=e("./$.an-object"),s=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n){try{n=e("./$.ctx")(Function.call,i(Object.prototype,"__proto__").set,2),n({},[])
}catch(r){t=!0}return function(e,i){return s(e,i),t?e.__proto__=i:n(e,i),e}}():void 0),check:s}},{"./$":59,"./$.an-object":35,"./$.ctx":42,"./$.is-object":52}],66:[function(e,t){var i=e("./$.global"),n="__core-js_shared__",r=i[n]||(i[n]={});t.exports=function(e){return r[e]||(r[e]={})}},{"./$.global":47}],67:[function(e,t){t.exports=function(e,t,i){if(!(e instanceof t))throw TypeError(i+": use the 'new' operator!");return e}},{}],68:[function(e,t){var i=e("./$.to-integer"),n=e("./$.defined");t.exports=function(e){return function(t,r){var s,o,a=String(n(t)),u=i(r),c=a.length;return 0>u||u>=c?e?"":void 0:(s=a.charCodeAt(u),55296>s||s>56319||u+1===c||(o=a.charCodeAt(u+1))<56320||o>57343?e?a.charAt(u):s:e?a.slice(u,u+2):(s-55296<<10)+(o-56320)+65536)}}},{"./$.defined":44,"./$.to-integer":71}],69:[function(e,t){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":45}],70:[function(e,t){var i=e("./$.has"),n=e("./$.hide"),r=e("./$.wks")("toStringTag");t.exports=function(e,t,s){e&&!i(e=s?e:e.prototype,r)&&n(e,r,t)}},{"./$.has":48,"./$.hide":49,"./$.wks":77}],71:[function(e,t){var i=Math.ceil,n=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},{}],72:[function(e,t){var i=e("./$.iobject"),n=e("./$.defined");t.exports=function(e){return i(n(e))}},{"./$.defined":44,"./$.iobject":50}],73:[function(e,t){var i=e("./$.to-integer"),n=Math.min;t.exports=function(e){return e>0?n(i(e),9007199254740991):0}},{"./$.to-integer":71}],74:[function(e,t){var i=e("./$.defined");t.exports=function(e){return Object(i(e))}},{"./$.defined":44}],75:[function(e,t){var i=0,n=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},{}],76:[function(e,t){t.exports=function(){}},{}],77:[function(e,t){var i=e("./$.shared")("wks"),n=e("./$.global").Symbol;t.exports=function(t){return i[t]||(i[t]=n&&n[t]||(n||e("./$.uid"))("Symbol."+t))}},{"./$.global":47,"./$.shared":66,"./$.uid":75}],78:[function(e,t){var i=e("./$.classof"),n=e("./$.wks")("iterator"),r=e("./$.iterators");t.exports=e("./$.core").getIteratorMethod=function(e){return void 0!=e?e[n]||e["@@iterator"]||r[i(e)]:void 0}},{"./$.classof":37,"./$.core":41,"./$.iterators":58,"./$.wks":77}],79:[function(e,t){var i=e("./$.an-object"),n=e("./core.get-iterator-method");t.exports=e("./$.core").getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},{"./$.an-object":35,"./$.core":41,"./core.get-iterator-method":78}],80:[function(e){"use strict";var t=e("./$.unscope"),i=e("./$.iter-step"),n=e("./$.iterators"),r=e("./$.to-iobject");e("./$.iter-define")(Array,"Array",function(e,t){this._t=r(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),n.Arguments=n.Array,t("keys"),t("values"),t("entries")},{"./$.iter-define":56,"./$.iter-step":57,"./$.iterators":58,"./$.to-iobject":72,"./$.unscope":76}],81:[function(e){var t=e("./$.to-iobject");e("./$.object-sap")("getOwnPropertyDescriptor",function(e){return function(i,n){return e(t(i),n)}})},{"./$.object-sap":62,"./$.to-iobject":72}],82:[function(e){var t=e("./$.def");t(t.S,"Object",{setPrototypeOf:e("./$.set-proto").set})},{"./$.def":43,"./$.set-proto":65}],83:[function(){},{}],84:[function(e){"use strict";var t=e("./$.string-at")(!0);e("./$.iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,i=this._t,n=this._i;return n>=i.length?{value:void 0,done:!0}:(e=t(i,n),this._i+=e.length,{value:e,done:!1})})},{"./$.iter-define":56,"./$.string-at":68}],85:[function(e){"use strict";var t=e("./$"),i=e("./$.collection-weak"),n=e("./$.is-object"),r=e("./$.has"),s=i.frozenStore,o=i.WEAK,a=Object.isExtensible||n,u={},c=e("./$.collection")("WeakMap",function(e){return function(){return e(this,arguments[0])}},{get:function(e){if(n(e)){if(!a(e))return s(this).get(e);if(r(e,o))return e[o][this._i]}},set:function(e,t){return i.def(this,e,t)}},i,!0,!0);7!=(new c).set((Object.freeze||Object)(u),7).get(u)&&t.each.call(["delete","has","get","set"],function(t){var i=c.prototype,r=i[t];e("./$.redef")(i,t,function(e,i){if(n(e)&&!a(e)){var o=s(this)[t](e,i);return"set"==t?this:o}return r.call(this,e,i)})})},{"./$":59,"./$.collection":40,"./$.collection-weak":39,"./$.has":48,"./$.is-object":52,"./$.redef":64}],86:[function(e){e("./es6.array.iterator");var t=e("./$.iterators");t.NodeList=t.HTMLCollection=t.Array},{"./$.iterators":58,"./es6.array.iterator":80}]},{},[1])(1)});