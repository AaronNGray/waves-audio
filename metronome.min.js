!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Metronome=e()}}(function(){return function e(t,n,i){function o(s,c){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!c&&u)return u(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=n[s]={exports:{}};t[s][0].call(a.exports,function(e){var n=t[s][1][e];return o(n?n:e)},a,a.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t){var n=window.audioContext||new AudioContext||new webkitAudioContext;window.audioContext=n,t.exports=n},{}],2:[function(e,t){"use strict";var n=e("../audio-context"),i=e("../time-engine"),o=function(e){function t(){var t=arguments[0];void 0===t&&(t=1),e.call(this),this.period=t,this.clickFreq=600,this.clickAttack=.002,this.clickRelease=.098,this.__phase=0,this.outputNode=this.__gainNode=n.createGain()}function i(e){this.__gainNode.gain.value=e}function o(){return this.__gainNode.gain.value}function r(e){this.__phase=e-Math.floor(e),this.resyncEnginePosition()}function s(){return this.__phase}var c=Object.defineProperty,u=function(e,t){for(var n in t)t.hasOwnProperty(n)&&c(e,n,Object.getOwnPropertyDescriptor(t,n));return e};u(t,e);var a={};return t.prototype=Object.create(e.prototype,{constructor:{value:t,configurable:!0,writable:!0},gain:{get:o,set:i,configurable:!0,enumerable:!0},phase:{get:s,set:r,configurable:!0,enumerable:!0}}),c(t,"prototype",{configurable:!1,enumerable:!1,writable:!1}),a.advanceTime=function(e){return this.trigger(e),e+this.period},a.syncPosition=function(e,t,n){var i=(Math.floor(t/this.period)+this.__phase)*this.period;return n>0&&t>i?i+=this.period:0>n&&i>t&&(i-=this.period),i},a.advancePosition=function(e,t,n){return this.trigger(e),0>n?t-this.period:t+this.period},a.trigger=function(e){var t=this.clickAttack,i=this.clickRelease,o=this.period;if(t+i>o){var r=o/(t+i);t*=r,i*=r}this.__envNode=n.createGain(),this.__envNode.gain.value=0,this.__envNode.gain.setValueAtTime(0,e),this.__envNode.gain.linearRampToValueAtTime(1,e+t),this.__envNode.gain.exponentialRampToValueAtTime(1e-7,e+t+i),this.__envNode.gain.setValueAtTime(0,e),this.__envNode.connect(this.__gainNode),this.__osc=n.createOscillator(),this.__osc.frequency.value=this.clickFreq,this.__osc.start(0),this.__osc.stop(e+t+i),this.__osc.connect(this.__envNode)},u(t.prototype,a),a=void 0,t}(i);t.exports=o},{"../audio-context":1,"../time-engine":3}],3:[function(e,t){"use strict";var n=e("../audio-context"),i=function(){function e(){this.master=null,this.interface=null,this.transportStartPosition=0,this.outputNode=null}function t(){return this.advanceTime&&this.advanceTime instanceof Function}function i(){return this.syncPosition&&this.syncPosition instanceof Function&&this.advancePosition&&this.advancePosition instanceof Function}function o(){return this.syncSpeed&&this.syncSpeed instanceof Function}function r(){return n.currentTime}function s(){return 0}var c=Object.defineProperty,u=function(e,t){for(var n in t)t.hasOwnProperty(n)&&c(e,n,Object.getOwnPropertyDescriptor(t,n));return e},a={};return Object.defineProperties(e.prototype,{implementsScheduled:{get:t,configurable:!0,enumerable:!0},implementsTransported:{get:i,configurable:!0,enumerable:!0},implementsSpeedControlled:{get:o,configurable:!0,enumerable:!0},currentTime:{get:r,configurable:!0,enumerable:!0},currentPosition:{get:s,configurable:!0,enumerable:!0}}),c(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),a.resetEngineTime=function(){},a.resyncEnginePosition=function(){},a.__setGetters=function(e,t){e&&Object.defineProperty(this,"currentTime",{configurable:!0,get:e,set:function(){}}),t&&Object.defineProperty(this,"currentPosition",{configurable:!0,get:t,set:function(){}})},a.__deleteGetters=function(){delete this.currentTime,delete this.currentPosition},a.setScheduled=function(e,t,n,i){this.master=e,this.interface="scheduled",this.__setGetters(n,i),t&&(this.resetEngineTime=t)},a.resetScheduled=function(){this.__deleteGetters(),delete this.resetEngineTime,this.master=null,this.interface=null},a.setTransported=function(e,t,n,i,o){this.master=e,this.interface="transported",this.transportStartPosition=t,this.__setGetters(i,o),n&&(this.resyncEnginePosition=n)},a.resetTransported=function(){this.__deleteGetters(),delete this.resyncEnginePosition,this.transportStartPosition=0,this.master=null,this.interface=null},a.setSpeedControlled=function(e,t,n){this.master=e,this.interface="speed-controlled",this.__setGetters(t,n)},a.resetSpeedControlled=function(){this.__deleteGetters(),this.master=null,this.interface=null},a.removeFromMaster=function(){this.master&&this.master.remove(this)},a.connect=function(e){return this.outputNode.connect(e),this},a.disconnect=function(e){return this.outputNode.disconnect(e),this},u(e.prototype,a),a=void 0,e}();t.exports=i},{"../audio-context":1}]},{},[2])(2)});