!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Metronome=e()}}(function(){return function e(t,i,n){function o(s,u){if(!i[s]){if(!t[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return o(i?i:e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t){var i=window.audioContext||new AudioContext||new webkitAudioContext;window.audioContext=i,t.exports=i},{}],2:[function(e,t){"use strict";var i=e("../audio-context"),n=e("../time-engine"),o=function(e){function t(){var t=arguments[0];void 0===t&&(t=1),e.call(this),this.period=t,this.clickFreq=600,this.clickAttack=.002,this.clickRelease=.098,this.__phase=0,this.outputNode=this.__gainNode=i.createGain()}function n(e){this.__gainNode.gain.value=e}function o(){return this.__gainNode.gain.value}function r(e){this.__phase=e-Math.floor(e),this.resyncEnginePosition()}function s(){return this.__phase}var u=Object.defineProperty,a=function(e,t){for(var i in t)t.hasOwnProperty(i)&&u(e,i,Object.getOwnPropertyDescriptor(t,i));return e};a(t,e);var c={};return t.prototype=Object.create(e.prototype,{constructor:{value:t,configurable:!0,writable:!0},gain:{get:o,set:n,configurable:!0,enumerable:!0},phase:{get:s,set:r,configurable:!0,enumerable:!0}}),u(t,"prototype",{configurable:!1,enumerable:!1,writable:!1}),c.advanceTime=function(e){return this.trigger(e),e+this.period},c.syncPosition=function(e,t,i){var n=(Math.floor(t/this.period)+this.__phase)*this.period;return i>0&&t>n?n+=this.period:0>i&&n>t&&(n-=this.period),n},c.advancePosition=function(e,t,i){return this.trigger(e),0>i?t-this.period:t+this.period},c.trigger=function(e){var t=this.clickAttack,n=this.clickRelease,o=this.period;if(t+n>o){var r=o/(t+n);t*=r,n*=r}this.__envNode=i.createGain(),this.__envNode.gain.value=0,this.__envNode.gain.setValueAtTime(0,e),this.__envNode.gain.linearRampToValueAtTime(1,e+t),this.__envNode.gain.exponentialRampToValueAtTime(1e-7,e+t+n),this.__envNode.gain.setValueAtTime(0,e),this.__envNode.connect(this.__gainNode),this.__osc=i.createOscillator(),this.__osc.frequency.value=this.clickFreq,this.__osc.start(0),this.__osc.stop(e+t+n),this.__osc.connect(this.__envNode)},a(t.prototype,c),c=void 0,t}(n);t.exports=o},{"../audio-context":1,"../time-engine":3}],3:[function(e,t){"use strict";var i=function(){function e(){this.__timeMaster=null,this.getMasterTime=function(){return 0},this.resetEngineTime=function(){},this.__positionMaster=null,this.__startPosition=0,this.getMasterPosition=function(){return 0},this.resyncEnginePosition=function(){},this.outputNode=null}function t(e){this.__timeMaster=e}function i(){return this.__timeMaster}function n(e){this.__positionMaster=e}function o(){return this.__positionMaster}function r(){return this.advanceTime&&this.advanceTime instanceof Function}function s(){return this.syncPosition&&this.syncPosition instanceof Function&&this.advancePosition&&this.advancePosition instanceof Function}function u(){return Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this),"speed")&&this.seek&&this.seek instanceof Function}var a=Object.defineProperty,c=function(e,t){for(var i in t)t.hasOwnProperty(i)&&a(e,i,Object.getOwnPropertyDescriptor(t,i));return e},f={};return Object.defineProperties(e.prototype,{timeMaster:{get:i,set:t,configurable:!0,enumerable:!0},positionMaster:{get:o,set:n,configurable:!0,enumerable:!0},implementsTimeBased:{get:r,configurable:!0,enumerable:!0},implementsPositionBased:{get:s,configurable:!0,enumerable:!0},implementsSpeedBased:{get:u,configurable:!0,enumerable:!0}}),a(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),f.initTime=function(e){return e},f.connect=function(e){return this.outputNode.connect(e),this},f.disconnect=function(e){return this.outputNode.disconnect(e),this},c(e.prototype,f),f=void 0,e}();t.exports=i},{}]},{},[2])(2)});