!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Transport=t()}}(function(){return function t(e,i,n){function o(s,_){if(!i[s]){if(!e[s]){var u="function"==typeof require&&require;if(!_&&u)return u(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=i[s]={exports:{}};e[s][0].call(c.exports,function(t){var i=e[s][1][t];return o(i?i:t)},c,c.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e){"use strict";function i(t,e,i){var n=t.indexOf(i);if(n>=0){var o=e[n];return t.splice(n,1),e.splice(n,1),o}return null}var n=function(t,e){return t.__proto__={a:e},t.a===e}({},{}),o=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(t,e){for(var i in e)e.hasOwnProperty(i)&&o(t,i,r(e,i));return t},_=Object.setPrototypeOf||function(t,e){return n?t.__proto__=e:o(t,"__proto__",{value:e,configurable:!0,enumerable:!1,writable:!0}),t},u=Object.create,c=t("time-engine"),a=t("priority-queue"),h=t("scheduler"),l=function(t){function e(t,e,i,n,o){this.__transport=t,this.__engine=e,this.__startPosition=i,this.__endPosition=n,this.__offsetPosition=o,this.__haltPosition=null}n||s(e,t);var i={};return null!==t&&_(e,t),e.prototype=u(null!==t?t.prototype:null,{constructor:{value:e,configurable:!0,writable:!0}}),o(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),i.setBoundaries=function(t,e){var i=arguments[2];void 0===i&&(i=t),this.__startPosition=t,this.__endPosition=e,this.__offsetPosition=i,this.resetNextPosition()},i.start=function(){},i.stop=function(){},i.syncPosition=function(t,e,i){if(i>0){if(e<this.__startPosition)return this.stop(t,e),this.__haltPosition=this.__endPosition,this.__startPosition;if(e<=this.__endPosition)return this.start(t,e,i),this.__haltPosition=null,this.__endPosition}else{if(e>=this.__endPosition)return this.stop(t,e),this.__haltPosition=this.__startPosition,this.__endPosition;if(e>this.__startPosition)return this.start(t,e,i),this.__haltPosition=null,this.__startPosition}return this.__haltPosition=1/0,1/0},i.advancePosition=function(t,e,i){var n=this.__haltPosition;return null!==n?(this.start(t,e-this.__offsetPosition,i),this.__haltPosition=null,n):(this.stop(t,e-this.__offsetPosition),this.__haltPosition=1/0,1/0)},i.syncSpeed=function(t,e,i){0===i&&this.stop(t,e-this.__offsetPosition)},i.destroy=function(){this.__transport=null,this.__engine=null},s(e.prototype,i),i=void 0,e}(c),f=function(t){function e(e,i,n,o,r){var s=this;t.call(this,e,i,n,o,r),c.setTransported(i,function(){var t=arguments[0];void 0===t&&(t=null);var e=s.currentTime,n=s.currentPosition,o=s.__speed;if(0!==o){null===t&&(t=s.__offsetPosition+i.syncPosition(e,n-s.__offsetPosition,o));var r=s.__transportQueue.move(i,t);s.resetNextPosition(r)}},function(){return h.currentTime},function(){return s.__transport.currentPosition-s.__offsetPosition})}n||s(e,t);var i={};return null!==t&&_(e,t),e.prototype=u(null!==t?t.prototype:null,{constructor:{value:e,configurable:!0,writable:!0}}),o(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),i.syncPosition=function(t,e,i){return i>0&&e<this.__endPosition?e=Math.max(e,this.__startPosition):0>i&&e>=this.__startPosition&&(e=Math.min(e,this.__endPosition)),e=this.__offsetPosition+this.__engine.syncPosition(t,e-this.__offsetPosition,i),i>0&&e<this.__endPosition?Math.max(e,this.__startPosition):0>i&&e>=this.__startPosition?Math.min(e,this.__endPosition):1/0},i.advancePosition=function(t,e,i){return e=this.__offsetPosition+this.__engine.advancePosition(t,e-this.__offsetPosition,i),i>0&&e<this.__endPosition||0>i&&e>=this.__startPosition?e:1/0},i.syncSpeed=function(t,e,i){this.__engine.syncSpeed&&this.__engine.syncSpeed(t,e,i)},i.destroy=function(){c.resetInterface(this.__engine),t.prototype.destroy.call(this)},s(e.prototype,i),i=void 0,e}(l),d=function(t){function e(e,i,n,o,r){var s=this;t.call(this,e,i,n,o,r),c.setSpeedControlled(i,function(){return h.currentTime},function(){return s.__transport.currentPosition-s.__offsetPosition})}n||s(e,t);var i={};return null!==t&&_(e,t),e.prototype=u(null!==t?t.prototype:null,{constructor:{value:e,configurable:!0,writable:!0}}),o(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),i.start=function(t,e,i){this.__engine.syncSpeed(t,e,i)},i.stop=function(t,e){this.__engine.syncSpeed(t,e,0)},i.syncSpeed=function(t,e,i){null===this.__haltPosition&&this.__engine.syncSpeed(t,e,i)},i.destroy=function(){this.__engine.syncSpeed(this.__transport.time,this.__transport.position-this.__offsetPosition,0),c.resetInterface(this.__engine),t.prototype.destroy.call(this)},s(e.prototype,i),i=void 0,e}(l),p=function(t){function e(e,i,n,o,r){var s=this;t.call(this,e,i,n,o,r),h.add(i,1/0,function(){return s.__transport.currentPosition-s.__offsetPosition})}n||s(e,t);var i={};return null!==t&&_(e,t),e.prototype=u(null!==t?t.prototype:null,{constructor:{value:e,configurable:!0,writable:!0}}),o(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),i.start=function(t){this.__engine.resetNextTime(t)},i.stop=function(){this.__engine.resetNextTime(1/0)},i.destroy=function(){h.remove(this.__engine),t.prototype.destroy.call(this)},s(e.prototype,i),i=void 0,e}(l),m=function(t){function e(e){t.call(this),this.__transport=e}n||s(e,t);var i={};return null!==t&&_(e,t),e.prototype=u(null!==t?t.prototype:null,{constructor:{value:e,configurable:!0,writable:!0}}),o(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),i.advanceTime=function(t){var e=this.__transport,i=e.__getPositionAtTime(t),n=e.advancePosition(t,i,e.__speed);return 1/0!==n?e.__getTimeAtPosition(n):1/0},s(e.prototype,i),i=void 0,e}(c),v=function(t){function e(){t.call(this),this.__engines=[],this.__transported=[],this.__scheduledCell=null,this.__transportQueue=new a,this.__time=0,this.__position=0,this.__speed=0,this.__nextPosition=1/0}function r(){return h.currentTime}function l(){return this.__position+(h.currentTime-this.__time)*this.__speed}n||s(e,t);var v={};return null!==t&&_(e,t),e.prototype=u(null!==t?t.prototype:null,{constructor:{value:e,configurable:!0,writable:!0},currentTime:{get:r,configurable:!0,enumerable:!0},currentPosition:{get:l,configurable:!0,enumerable:!0}}),o(e,"prototype",{configurable:!1,enumerable:!1,writable:!1}),v.__getPositionAtTime=function(t){return this.__position+(t-this.__time)*this.__speed},v.__getTimeAtPosition=function(t){return this.__time+(t-this.__position)/this.__speed},v.__syncTransportedPosition=function(t,e,i){var n=this.__transported.length,o=1/0;if(n>0){var r,s;this.__transportQueue.clear(),this.__transportQueue.reverse=0>i;for(var _=n-1;_>0;_--)r=this.__transported[_],s=r.syncPosition(t,e,i),this.__transportQueue.insert(r,s,!1);r=this.__transported[0],s=r.syncPosition(t,e,i),o=this.__transportQueue.insert(r,s,!0)}return o},v.__syncTransportedSpeed=function(t,e,i){function n(t){if(t){if(Array.isArray(t))return 0;var e;if(c&&c(t),"object"==typeof t&&"function"==typeof(e=t[u]))return c&&c(void 0),e.call(t);if(c&&c(void 0),t+""=="[object Generator]")return t}throw new Error(t+" is not iterable")}var o,r,s,_,u="undefined"!=typeof Symbol&&Symbol&&Symbol.iterator||"@@iterator",c="undefined"!=typeof Symbol&&Symbol&&Symbol.__setObjectSetter__;_=this.__transported,o=n(_),s=0===o,r=s?_.length:void 0;for(var a;s?r>o:!(r=o.next()).done;)a=s?_[o++]:r.value,a.syncSpeed(t,e,i);o=r=s=_=void 0},v.resetNextPosition=function(t){this.__scheduledCell&&this.__scheduledCell.resetNextTime(this.__getTimeAtPosition(t)),this.__nextPosition=t},v.syncPosition=function(t,e,i){return this.__time=t,this.__position=e,this.__speed=i,this.__syncTransportedPosition(t,e,i)},v.advancePosition=function(t,e,i){var n=this.__transportQueue.head,o=n.advancePosition(t,e,i);return this.__nextPosition=this.__transportQueue.move(n,o),this.__nextPosition},v.syncSpeed=function(t,e,i){var n=arguments[3];void 0===n&&(n=!1);var o=this.__speed;if(this.__time=t,this.__position=e,this.__speed=i,i!==o||n){var r=this.__nextPosition;n||0>i*o?r=this.__syncTransportedPosition(t,e,i):0===o?(r=this.__syncTransportedPosition(t,e,i),this.__scheduledCell=new m(this),h.add(this.__scheduledCell,1/0)):0===i?(r=1/0,this.__syncTransportedSpeed(t,e,0),h.remove(this.__scheduledCell),delete this.__scheduledCell):this.__syncTransportedSpeed(t,e,i),this.resetNextPosition(r)}},v.add=function(t){var e=arguments[1];void 0===e&&(e=0);var i=arguments[2];void 0===i&&(i=1/0);var n=arguments[3];void 0===n&&(n=e);var o=null;if(t.interface)throw new Error("object has already been added to a master");if(c.implementsTransported(t))o=new f(this,t,e,i,n);else if(c.implementsSpeedControlled(t))o=new d(this,t,e,i,n);else{if(!c.implementsScheduled(t))throw new Error("object cannot be added to transport");o=new p(this,t,e,i,n)}if(o){var r=this.__speed;if(this.__engines.push(t),this.__transported.push(o),0!==r){var s=o.syncPosition(this.currentTime,this.currentPosition,r),_=this.__transportQueue.insert(o,s);this.resetNextPosition(_)}}return o},v.remove=function(t){var e=t,n=i(this.__engines,this.__transported,t);if(n||(e=i(this.__transported,this.__engines,t),n=t),!e||!n)throw new Error("object has not been added to this transport");var o=this.__transportQueue.remove(n);n.destroy(),0!==this.__speed&&this.resetNextPosition(o)},v.clear=function(){var t=this.currentTime,e=this.currentPosition;this.syncSpeed(t,e,0),this.resetNextPosition(1/0)},s(e.prototype,v),v=void 0,e}(c);e.exports=v},{"priority-queue":2,scheduler:3,"time-engine":8}],2:[function(t,e){"use strict";var i=function(){function t(){this.__objects=[],this.reverse=!1}function e(){return this.__objects[0][0]}var i=(function(t,e){return t.__proto__={a:e},t.a===e}({},{}),Object.defineProperty),n=Object.getOwnPropertyDescriptor,o=function(t,e){for(var o in e)e.hasOwnProperty(o)&&i(t,o,n(e,o));return t},r=Object.defineProperties,s={};return r(t.prototype,{head:{get:e,configurable:!0,enumerable:!0}}),i(t,"prototype",{configurable:!1,enumerable:!1,writable:!1}),s.__objectIndex=function(t){for(var e=0;e<this.__objects.length;e++)if(t===this.__objects[e][0])return e;return-1},s.__removeObject=function(t){var e=this.__objectIndex(t);return e>=0&&this.__objects.splice(e,1),this.__objects.length>0?this.__objects[0][1]:1/0},s.__sortObjects=function(){this.reverse?this.__objects.sort(function(t,e){return e[1]-t[1]}):this.__objects.sort(function(t,e){return t[1]-e[1]})},s.insert=function(t,e){var i=arguments[2];return void 0===i&&(i=!0),1/0!==e&&e!=-1/0?(this.__objects.push([t,e]),i&&this.__sortObjects(),this.__objects[0][1]):this.__removeObject(t)},s.move=function(t,e){if(1/0!==e&&e!=-1/0){var i=this.__objectIndex(t);return 0>i?this.__objects.push([t,e]):this.__objects[i][1]=e,this.__sortObjects(),this.__objects[0][1]}return this.__removeObject(t)},s.remove=function(t){return this.__removeObject(t)},s.clear=function(){return this.__objects.length=0,1/0},o(t.prototype,s),s=void 0,t}();e.exports=i},{}],3:[function(t,e){"use strict";function i(t,e){var i=t.indexOf(e);return i>=0?(t.splice(i,1),!0):!1}var n=t("audio-context"),o=t("priority-queue"),r=t("time-engine"),s=function(){function t(){this.__queue=new o,this.__engines=[],this.__currentTime=null,this.__nextTime=1/0,this.__timeout=null,this.period=.025,this.lookahead=.1}function e(){return this.__currentTime||n.currentTime+this.lookahead}var s=(function(t,e){return t.__proto__={a:e},t.a===e}({},{}),Object.defineProperty),_=Object.getOwnPropertyDescriptor,u=function(t,e){for(var i in e)e.hasOwnProperty(i)&&s(t,i,_(e,i));return t},c=Object.defineProperties,a={};return c(t.prototype,{currentTime:{get:e,configurable:!0,enumerable:!0}}),s(t,"prototype",{configurable:!1,enumerable:!1,writable:!1}),a.__tick=function(){for(var t=this;this.__nextTime<=n.currentTime+this.lookahead;){this.__currentTime=this.__nextTime;var e=this.__queue.head,i=Math.max(e.advanceTime(this.__currentTime),this.__currentTime);this.__nextTime=this.__queue.move(e,i)}this.__currentTime=null,this.__timeout=null,1/0!==this.__nextTime&&(this.__timeout=setTimeout(function(){t.__tick()},1e3*this.period))},a.__reschedule=function(){1/0!==this.__nextTime?this.__timeout||this.__tick():this.__timeout&&(clearTimeout(this.__timeout),this.__timeout=null)},a.callback=function(t){var e=arguments[1];void 0===e&&(e=0);var i=arguments[2];void 0===i&&(i=0);var n={period:i||1/0,advanceTime:function(e){return t(e),e+this.period}};return this.__nextTime=this.__queue.insert(n,this.currentTime+e),this.__reschedule(),n},a.add=function(t){var e=arguments[1];void 0===e&&(e=0);var i=arguments[2];void 0===i&&(i=null);var n=this;if(t.interface)throw new Error("object has already been added to a master");if(!r.implementsScheduled(t))throw new Error("object cannot be added to scheduler");return this.__engines.push(t),r.setScheduled(t,function(e){n.__nextTime=n.__queue.move(t,e),n.__reschedule()},function(){return n.currentTime},i),this.__nextTime=this.__queue.insert(t,this.currentTime+e),this.__reschedule(),t},a.remove=function(t){if(!i(this.__engines,t))throw new Error("object has not been added to this scheduler");r.resetInterface(t),this.__nextTime=this.__queue.remove(t),this.__reschedule()},a.reset=function(t,e){this.__nextTime=this.__queue.move(t,e),this.__reschedule()},u(t.prototype,a),a=void 0,t}();e.exports=new s},{"audio-context":4,"priority-queue":5,"time-engine":6}],4:[function(t,e){var i=window.audioContext||new AudioContext||new webkitAudioContext;window.audioContext=i,e.exports=i},{}],5:[function(t,e){e.exports=t(2)},{}],6:[function(t,e){"use strict";var i=t("audio-context"),n=function(){function t(){this.interface=null,this.outputNode=null}function e(){return i.currentTime}function n(){return 0}var o=(function(t,e){return t.__proto__={a:e},t.a===e}({},{}),Object.defineProperty),r=Object.getOwnPropertyDescriptor,s=function(t,e){for(var i in e)e.hasOwnProperty(i)&&o(t,i,r(e,i));return t},_=Object.defineProperties,u={};return _(t.prototype,{currentTime:{get:e,configurable:!0,enumerable:!0},currentPosition:{get:n,configurable:!0,enumerable:!0}}),o(t,"prototype",{configurable:!1,enumerable:!1,writable:!1}),u.resetNextTime=function(){var t=arguments[0];void 0===t&&(t=null)},u.resetNextPosition=function(){var t=arguments[0];void 0===t&&(t=null)},u.__setGetters=function(t,e){t&&Object.defineProperty(this,"currentTime",{configurable:!0,get:t,set:function(){}}),e&&Object.defineProperty(this,"currentPosition",{configurable:!0,get:e,set:function(){}})},u.__deleteGetters=function(){delete this.currentTime,delete this.currentPosition},u.connect=function(t){return this.outputNode.connect(t),this},u.disconnect=function(t){return this.outputNode.disconnect(t),this},s(t.prototype,u),u=void 0,t}();n.implementsScheduled=function(t){return t.advanceTime&&t.advanceTime instanceof Function},n.implementsTransported=function(t){return t.syncPosition&&t.syncPosition instanceof Function&&t.advancePosition&&t.advancePosition instanceof Function},n.implementsSpeedControlled=function(t){return t.syncSpeed&&t.syncSpeed instanceof Function},n.setScheduled=function(t,e,i,n){t.interface="scheduled",t.__setGetters(i,n),e&&(t.resetNextTime=e)},n.setTransported=function(t,e,i,n){t.interface="transported",t.__setGetters(i,n),e&&(t.resetNextPosition=e)},n.setSpeedControlled=function(t,e,i){t.interface="speed-controlled",t.__setGetters(e,i)},n.resetInterface=function(t){t.__deleteGetters(),delete t.resetNextTime,delete t.resetNextPosition,t.interface=null},e.exports=n},{"audio-context":7}],7:[function(t,e){e.exports=t(4)},{}],8:[function(t,e){e.exports=t(6)},{"audio-context":9}],9:[function(t,e){e.exports=t(4)},{}]},{},[1])(1)});